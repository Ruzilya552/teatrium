"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(){function e(){function e(e,t){function n(n){var a=$.makeArray(e.classList),o=n[0].oldValue,s=r||(o?o.split(" "):[]),l=a.filter(i,s),c=s.filter(i,a);t(l,c,a,s),r=a}function i(e){return this.indexOf(e)<0}var r,a=new MutationObserver(n);return a.observe(e,{attributes:!0,attributeOldValue:!0}),a.old=r,a}function t(t,n,i,r){function a(e,t){return t.every(function(t){return e.indexOf(t)>=0})}var o=n.split(" ");return i="function"==typeof i?i:function(){},r="function"==typeof r?r:function(){},new e(t,function(e,t,n,s){o.length>1?!a(s,o)&&a(n,o)?i():a(s,o)&&!a(n,o)&&r():a(e,o)?i():a(t,o)&&r()})}function n(e,t){var n,i,r=!1;return function(){return r?(n=arguments,void(i=this)):(r=!0,void setTimeout(function(){r=!1,e.apply(i,n),n=i=null},t))}}function i(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),n=e.indexOf("Trident/");return t>0||n>0}function r(){i()?$("html").addClass("no-object-fit"):$("html").addClass("object-fit")}function a(e,t,n){var i="";if(n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),i="; expires="+r.toUTCString()}document.cookie=e+"="+(t||"")+i+"; path=/"}function o(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return null}var s,l,c,d,p,u=.3,f=["bebe","beeb","ebeb","ebbe"],h=".js-on-visible",v="animated",b=h+"."+v,g=".js-is-visible",m="in-viewport",w="hold-outside-viewport";$(document).ready(function(){function e(e,t){function n(e){var t=e.getBoundingClientRect(),n=[["b",r],["b",a],["e",t.top],["e",t.bottom]].sort(function(e,t){return e[1]-t[1]}).map(function(e){return e[0]}).join("");return f.indexOf(n)>=0}var i=window.innerHeight,r=u*i,a=(1-u)*i;$(b).each(function(){!this.classList.contains(w)&&n(this)&&this.classList.remove(v)}),r=0,a=i,$(g).each(function(){this.classList.toggle(m,!this.classList.contains(w)&&n(this))})}var i=n(e,200),r=$(h+","+g);r.length&&($(window).off("scroll",i),$(".os-viewport").on("scroll",i),e(),r.each(function(){t(this,w,e,e)}))}),$(document).ready(function(){function e(){r.hasClass("open")&&(i.removeClass("no-scroll no-touch windows"),r.removeClass("open"),r.stop().fadeOut(300))}function t(e,t){var n=document,i=n.body,r=n.querySelector(t),a="client"+e;return e="scroll"+e,/CSS/.test(n.compatMode)?r[a]<r[e]:i[a]<i[e]}function n(e){$(this).trigger("popup.open",[n]),e=e||$(this).attr("data-popup");var n=$('[class^="b-popup"][data-popup=\''+e+"']");n.length>0&&(o&&t("Height",".b-page-wrapper")&&i.addClass("windows"),r.removeClass("open"),r.fadeOut(300),i.addClass("no-scroll no-touch"),n.addClass("open"),n.css("display","flex").hide().fadeIn(300))}var i=$(".b-page-wrapper"),r=$(".b-popup, .js-popup-custom"),a=$(".b-popup__content"),o=navigator.userAgent.toLowerCase().indexOf("windows")!==-1;$(".js-open-popup").on("popup.onClose",function(t){e()}),$(document).on("click",".js-open-popup",function(){$(this).trigger("popup.onOpen"),setTimeout(function(){new Swiper(".js-popup-slider",{effect:"fade",slidesPerView:1,loop:!0,navigation:{nextEl:".b-popup-slider .swiper-button-next",prevEl:".b-popup-slider .swiper-button-prev"}})},2e3)}),$(".js-open-popup").on("popup.onOpen",function(){n.call(this)}),window.openPopUp=n,$(document).on("click",".js-close-popup",function(){e(),$(".js-menu-in-popup-back").length&&$(".js-menu-in-popup-back").trigger("click")}),$(document).on("keydown",function(t){27===t.keyCode&&e()}),$(document).mouseup(function(t){r.hasClass("open")&&(a.is(t.target)||0!==a.has(t.target).length||e())})}),r();var y=window.navigator.userAgent;(y.match(/iPad/i)||y.match(/iPhone/i))&&$("html").addClass("ios");var j={dropdownAutoWidth:!0,width:"100%",allowClear:!1},x=function(e){setTimeout(function(){$(".select2-results__option").on("mousedown",function(){var t=$(this).text();e.siblings(".select2-container--open").length&&e.find(":selected").text().trim()==t.trim()&&e.val("").trigger("change")})})};$(".js-select").each(function(){var e=$(this),t=$.extend({placeholder:{id:"-1",text:e.data("placeholder")}},j);e.select2(t).val("").select2(t),e.on("select2:open",function(){x(e)})}),$(".js-select-red").each(function(){var e=$(this),t=$.extend({theme:"red",placeholder:{id:"-1",text:e.data("placeholder")}},j);e.select2(t).val("").select2(t),e.on("select2:open",function(){x(e)})}),$(".js-select-blue").each(function(){var e=$(this),t=$.extend({theme:"blue",placeholder:{id:"-1",text:e.data("placeholder")}},j);e.select2(t).val("").select2(t),e.on("select2:open",function(){x(e)})}),$(".js-select-form").each(function(){var e=$(this),t=$.extend({theme:"form",placeholder:{id:"-1",text:e.data("placeholder")}},j);e.select2(t).val("").select2(t),e.on("select2:open",function(){x(e)}),setTimeout(function(){e.siblings(".select2").after(e.css({opacity:0,height:0}).show())})}),$(".js-burger").on("click",function(){$(this).toggleClass("active"),$(".js-wrap-burger").toggleClass("active"),$(".js-burger").hasClass("active")?$(".b-page-wrapper").addClass("is-locked"):$(".b-page-wrapper").removeClass("is-locked")}),$(".js-search").on("click",function(){$(this).toggleClass("active"),$(".js-search-form").toggleClass("active")}),$(document).on("click",function(e){$(e.target).closest(".b-search").length||($("body").find(".js-search").removeClass("active"),$("body").find(".js-search-form").removeClass("active"))});var k=function(){var e=window.location.hash.split("##").join("#");return $('a[href="'+e+'"]')},P=$(".js-tabs a").index(k());$(".js-tabs").tabs({active:P>-1?P:0,hide:{effect:"fadeOut",duration:500},show:{effect:"fadeIn",duration:500},beforeActivate:function(e){var t=$(e.currentTarget);k();$(".b-page-wrapper").scrollTop(0);var n=t.attr("href").split("#")[1];history.replaceState({},"","#"+n),$(".b-page-wrapper").scrollTop(0)},create:function(){setTimeout(function(){var e=window.location.hash.split("##").join("#");history.replaceState({},"",e)},0),$(".b-page-wrapper").scrollTop(0)}}),$(window).on("hashchange",function(){var e=$("#tabs a").index(k());$(".js-tabs").tabs("option","active",e)}),$(document).ready(function(){var e=o("approve");e||$("body").addClass("cookie"),$(".js-approve-cookie").on("click",function(){$("body").removeClass("cookie"),a("approve","Y",365)}),$(".js-reject-cookie").on("click",function(){$("body").removeClass("cookie")})}),$(document).ready(function(){objectFitImages()}),$(".js-datepicker").datepicker({inline:!0,firstDay:1,autoSize:!0,dateFormat:"d/M/yy",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],onSelect:function(e,t){var n=$(this),i=["Января","Февраля","Марта","Апреля","Мая","Июня","Июля","Августа","Сентября","Октября","Ноября","Декабря"],r=t.currentDay,a=t.currentMonth,o=t.currentYear,s=r+"/"+i[a]+"/"+o,l=n.data("event"),c=n.data("url"),d=$(n.data("filter")).val();n.val(s),l&&$("body").trigger(l,{value:s,url:c,filter:d})},beforeShow:function(e){setTimeout(function(){$("#ui-datepicker-div").css({left:$(e).offset().left+$(e).width()-$("#ui-datepicker-div")[0].clientWidth})},0)}});var _;if($(".js-select-poster").length){var C=$(".js-select-poster"),S=$(".js-poster-mobile"),T=$(".js-poster-desktop");_=function(){window.innerWidth>=320&&window.innerWidth<834?S.append(C):window.innerWidth>=834&&T.append(C)},_(),$(window).resize(function(){$(".js-select-poster").length>0&&_()})}var V=function(){var e,t=new Swiper(".js-slider-poster",(e={speed:500,slidesPerView:2},_defineProperty(e,"slidesPerView","auto"),_defineProperty(e,"navigation",{nextEl:".b-poster .swiper-button-next",prevEl:".b-poster .swiper-button-prev"}),e));window.sliderPosterInstanse=t};if(V(),$("body").on("initSliderPoster",V),$(".js-slider").each(function(e,t){var n,i=$(this);i.addClass("js-slider-"+e),i.parents(".b-slider").find(".swiper-button-prev").addClass("swiper-button-next"+e),i.parents(".b-slider").find(".swiper-button-next").addClass("swiper-button-prev"+e);new Swiper(".js-slider-"+e,(n={slidesPerView:2},_defineProperty(n,"slidesPerView","auto"),_defineProperty(n,"watchOverflow",!0),_defineProperty(n,"navigation",{prevEl:".swiper-button-next"+e,nextEl:".swiper-button-prev"+e}),n))}),$(".js-parallax-right").length){var E=document.querySelector(".b-page-wrapper"),O=document.querySelector(".b-first-block-spreading__picture--left"),M=document.querySelector(".b-first-block-spreading__picture--right-first"),D=document.querySelector(".b-first-block-spreading__picture--right-second"),q=document.querySelector(".b-first-block-spreading__picture--right-third"),A=document.querySelector(".b-first-block-spreading__image-teatr"),I=document.querySelector(".b-first-block-spreading__text"),L=function(e){var t=E.scrollTop;O.style.transform="translate3d(0, -".concat(.275*t,"px, 0)"),M.style.transform="translate3d(0, -".concat(.3*t,"px, 0)"),D.style.transform="translate3d(0, -".concat(.25*t,"px, 0)"),q.style.transform="translate3d(0, -".concat(.2*t,"px, 0)"),A.style.transform="translate3d(0, ".concat(.175*t,"px, 0)"),I.style.transform="translate3d(0, ".concat(.175*t,"px, 0) translateY(-50%)")};E.addEventListener("scroll",L)}if($(document).ready(function(){var e=$(".js-anchor");e.length&&e.on("click",function(e){var t=$(this).data("target"),n=$(t);n.length&&(e.preventDefault(),$(".b-page-wrapper").scrollTo(t,500,{onAfter:function(){history.replaceState({},"",t)}}))})}),$("#map").length&&ymaps.ready(function(){var e=new ymaps.Map("map",{center:[55.719531,37.627022],zoom:13}),t=new ymaps.Placemark(e.getCenter(),{},{preset:"islands#blueTheaterIcon"});e.geoObjects.add(t)}),$(".b-first-block-tdt").length){new Swiper(".js-main-slider",{loop:!0,effect:"fade",pagination:{el:".b-first-block-tdt .swiper-pagination",clickable:!0},navigation:{nextEl:".b-first-block-tdt .swiper-button-next",prevEl:".b-first-block-tdt .swiper-button-prev"}})}new Swiper(".js-reviews-slider",{slidesPerView:1,pagination:{el:".b-reviews-slider .swiper-pagination",clickable:!0},navigation:{nextEl:".b-reviews-slider .swiper-button-next",prevEl:".b-reviews-slider .swiper-button-prev"}});if($(".js-up-button").length){var B=function(){var e=F[0],t=z.length?z[0].offsetHeight:0,n=e.scrollHeight-t-e.clientHeight;F.scrollTop()>300?H.addClass("show"):H.removeClass("show"),e.scrollTop>=n?H.addClass("stop"):H.removeClass("stop")},H=$(".js-up-button"),z=$(".b-footer"),F=$(".b-page-wrapper");H.on("click",function(e){e.preventDefault(),$(".b-page-wrapper").animate({scrollTop:0},"300")}),F.on("scroll",B)}if($(".b-reviews__card").length){var W=$(".js-click-show"),N=$(".js-hide-text");N.css({"max-height":"100%"}),setTimeout(function(){N.each(function(){var e=$(this);e.attr("data-height",e.height())}),N.css({"max-height":""})}),W.on("click",function(e){e.stopPropagation(),e.preventDefault();var t=$(this),n=t.parent(".active").length,i=t.siblings(".js-hide-text"),r=t.parent(".b-reviews__card");n?(r.removeClass("active"),i.animate({height:140})):(r.addClass("active"),i.animate({height:i.attr("data-height")}))})}new Swiper(".js-archive-slider",(s={speed:500,slidesPerView:2},_defineProperty(s,"slidesPerView","auto"),_defineProperty(s,"pagination",{el:".b-archive-slider .swiper-pagination",clickable:!0}),_defineProperty(s,"navigation",{nextEl:".b-archive-slider .swiper-button-next",prevEl:".b-archive-slider .swiper-button-prev"}),s));$(document).ready(function(){$(".js-accordion").accordion({collapsible:!0,active:!1,heightStyle:"content"})}),function(){function e(e){return Boolean(e.data("button-dis"))}function t(t,n){var i=t.find('button[type="submit"]');e(t)&&(i.prop("disabled",n),i.toggleClass("disabled",n))}$.extend($.validator.messages,{required:"Это поле необходимо заполнить.",name:"Укажите имя",phone:"Укажите телефон",remote:"Пожалуйста, введите правильное значение.",email:"Укажите электронный адрес",url:"Пожалуйста, введите корректный URL.",date:"Пожалуйста, введите корректную дату.",dateISO:"Пожалуйста, введите корректную дату в формате ISO.",number:"Пожалуйста, введите число.",digits:"Пожалуйста, вводите только цифры.",creditcard:"Пожалуйста, введите правильный номер кредитной карты.",equalTo:"Пожалуйста, введите такое же значение ещё раз.",extension:"Пожалуйста, выберите файл с правильным расширением.",maxlength:$.validator.format("Пожалуйста, введите не больше {0} символов."),minlength:$.validator.format("Пожалуйста, введите не меньше {0} символов."),rangelength:$.validator.format("Пожалуйста, введите значение длиной от {0} до {1} символов."),range:$.validator.format("Пожалуйста, введите число от {0} до {1}."),max:$.validator.format("Пожалуйста, введите число, меньшее или равное {0}."),min:$.validator.format("Пожалуйста, введите число, большее или равное {0}."),age:"К сожалению, Вы не можете войти, так как не достигли минимального возраста для легальной покупки и употребления алкоголя",defage:"Неверный формат данных",city:"Укажите город",textarea:"Введите сообщение"}),$.validator.addMethod("text-name",function(e,t){return Boolean(e)},$.validator.messages.name),$.validator.addMethod("text-city",function(e,t){return Boolean(e)},$.validator.messages.city),$.validator.addMethod("textarea",function(e,t){return Boolean(e.length)},$.validator.messages.textarea),$.validator.addMethod("tel",function(e,t){var n=/^(\+7|7|8)?[\s\-]?\(?[0-9][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/;return n.test(e)},$.validator.messages.phone),$.validator.addMethod("email",function(e,t){var n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return n.test(e)},$.validator.messages.email),$.validator.addMethod("date",function(e,t){var n=Date.parse("1900-01-01"),i=Date.parse("2100-01-01"),r=Date.parse(e);return!(r<n||r>i)&&!/Invalid|NaN/.test(new Date(n))},$.validator.messages.age),$.validator.addMethod("js-select-form",function(e,t){return Boolean(e)},"Не выбрано."),jQuery.validator.addClassRules({"js-name":{"text-name":!0},"js-tel":{tel:!0},"js-email":{email:!0}}),$(".js-form-validate").each(function(){var n,i=$(this);n=$(this).validate({ignore:".ignore, :hidden",submitHandler:function(e){var r=void 0===i.data("valid-clear")||"true"===i.data("valid-clear"),a=void 0===i.data("data-button-blocked")||"true"===i.data("data-button-blocked");return a&&(i.find('button[type="submit"]').addClass("disabled"),i.find('button[type="submit"]').prop("disabled",!0)),$(e).trigger("ajax.send"),r&&setTimeout(function(){$(".js-filename").trigger("file.clear"),$(".js-select-form").trigger("select2.clear"),e.reset(),n.resetForm()},100),t(i,!0),!1}}),e(i)&&(t(i,!0),$(this).on("blur keyup change","input, select",function(e){var r=!n.checkForm();t(i,r)}))})}();new Swiper(".js-actors-slider",(l={speed:500,slidesPerView:2},_defineProperty(l,"slidesPerView","auto"),_defineProperty(l,"navigation",{nextEl:".b-actors .swiper-button-next",prevEl:".b-actors .swiper-button-prev"}),l)),new Swiper(".js-press-slider",(c={slidesPerView:2},_defineProperty(c,"slidesPerView","auto"),_defineProperty(c,"pagination",{el:".b-press-slider .swiper-pagination",clickable:!0}),_defineProperty(c,"breakpoints",{834:_defineProperty({slidesPerView:1},"slidesPerView","auto")}),c)),new Swiper(".js-slider-review",(d={speed:500,slidesPerView:2},_defineProperty(d,"slidesPerView","auto"),_defineProperty(d,"navigation",{nextEl:".b-detail-info__wrapper .swiper-button-next",prevEl:".b-detail-info__wrapper .swiper-button-prev"}),_defineProperty(d,"pagination",{el:".b-detail-info__wrapper .swiper-pagination",clickable:!0}),d)),new Swiper(".js-slider-media",{speed:500,slidesPerView:1,pagination:{el:".b-slider-media .swiper-pagination",clickable:!0},navigation:{nextEl:".b-slider-media .swiper-button-next",prevEl:".b-slider-media .swiper-button-prev"}}),new Swiper(".js-slider-play",(p={slidesPerView:2},_defineProperty(p,"slidesPerView","auto"),_defineProperty(p,"spaceBetween",13),_defineProperty(p,"pagination",{el:".b-slider-play .swiper-pagination",clickable:!0}),_defineProperty(p,"breakpoints",{834:{spaceBetween:15},1200:{spaceBetween:24}}),p));$(document).ready(function(){$(".js-form").on("ajax.send",function(e){var t=$(this),n=t.data("popup"),i=t.attr("action")||location.href,r=t.attr("method"),a=(t.data("event"),new FormData(t[0]));$.ajax({url:i,method:r,processData:!1,contentType:!1,data:a,success:function(){openPopUp(n),t[0].reset()},error:function(){}})}),$("body").on("mainCalendar",function(e,t){var n=t.url,i=t.value,r=t.filter;$.ajax({url:n,data:{value:i,filter:r},success:function a(e){var a=e.success,t=e.html;a&&(sliderPosterInstanse.destroy(!0,!0),$(".js-slider-poster").html(t),$("body").trigger("initSliderPoster"))}})})}),$(document).ready(function(){$(document).on("click",".js-pagination",function(){var e=$(this),t=$(e.data("target")),n=e.data("url");$.ajax({url:n,success:function(e){e.success&&(e.html&&t.html(e.html),e.pagination&&$(".js-ajax-pagination").html(e.pagination))}})})});new Swiper(".js-memory-slider",{speed:500,slidesPerView:2,pagination:{el:".b-memory .swiper-pagination",clickable:!0},breakpoints:{834:{slidesPerView:4},1200:{slidesPerView:6}}});$(".js-grid").length&&$(".js-grid").masonry({itemSelector:".js-grid-item"})}document.addEventListener("DOMContentLoaded",e)}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImludGVybmFsLmpzIl0sIm5hbWVzIjpbIl9kZWZpbmVQcm9wZXJ0eSIsIm9iaiIsImtleSIsInZhbHVlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJkb2N1bWVudFJlYWR5IiwiQ2xhc3NFdmVudCIsImVsIiwiZnVuYyIsImNhbGxiYWNrIiwibXV0YXRpb25zTGlzdCIsIm5ld0NsYXNzIiwiJCIsIm1ha2VBcnJheSIsImNsYXNzTGlzdCIsIm9sZFZhbHVlIiwib2xkQ2xhc3MiLCJvbGQiLCJzcGxpdCIsImFkZGVkIiwiZmlsdGVyIiwiY2hhbmdlZCIsInJlbW92ZWQiLCJlIiwidGhpcyIsImluZGV4T2YiLCJtbyIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJvYnNlcnZlIiwiYXR0cmlidXRlcyIsImF0dHJpYnV0ZU9sZFZhbHVlIiwib2JzZXJ2ZUNsYXNzZXMiLCJfY2xhc3MiLCJzaG93IiwicmVzZXQiLCJ0ZXN0IiwiYXJyIiwicHJvYmUiLCJldmVyeSIsImNsYXNzQXJyYXkiLCJhbGwiLCJsZW5ndGgiLCJ0aHJvdHRsZSIsIm1zIiwic2F2ZWRBcmdzIiwic2F2ZWRUaGlzIiwiaXNUaHJvdHRsZWQiLCJhcmd1bWVudHMiLCJzZXRUaW1lb3V0IiwiYXBwbHkiLCJpc0lFIiwidWEiLCJ3aW5kb3ciLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJtc2llIiwidHJpZGVudCIsIlNob3dJRUFsZXJ0IiwiYWRkQ2xhc3MiLCJzZXRDb29raWUiLCJuYW1lIiwiZGF5cyIsImV4cGlyZXMiLCJkYXRlIiwiRGF0ZSIsInNldFRpbWUiLCJnZXRUaW1lIiwidG9VVENTdHJpbmciLCJkb2N1bWVudCIsImNvb2tpZSIsImdldENvb2tpZSIsIm5hbWVFUSIsImNhIiwiaSIsImMiLCJjaGFyQXQiLCJzdWJzdHJpbmciLCJfU3dpcGVyMyIsIl9Td2lwZXI0IiwiX1N3aXBlcjUiLCJfU3dpcGVyNiIsIl9Td2lwZXI3IiwiT0ZGU0VUIiwiSU5TSURFX1BBVFRFUk5TIiwiQU5JTUFUSU9OX0NMQVNTIiwiSElEREVOX0NMQVNTIiwiQU5JTUFUSU9OX0hJRERFTl9DTEFTUyIsIlZJRVdQT1JUX0NMQVNTIiwiSU5fQ0xBU1MiLCJIT0xEX0NMQVNTIiwicmVhZHkiLCJjaGVja0VkZ2VzIiwiaW5zaWRlIiwib3V0c2lkZSIsImJveCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInBhdHRlcm4iLCJ0b3AiLCJib3R0b20iLCJzb3J0IiwiYSIsImIiLCJtYXAiLCJqb2luIiwidmlld3BvcnRIZWlnaHQiLCJpbm5lckhlaWdodCIsImVhY2giLCJjb250YWlucyIsInJlbW92ZSIsInRvZ2dsZSIsInRocl9jaGVja0VkZ2VzIiwiJGVsZW1lbnRzIiwib2ZmIiwib24iLCJjbG9zZVBvcFVwIiwiJHBvcFVwIiwiaGFzQ2xhc3MiLCIkcGFnZSIsInJlbW92ZUNsYXNzIiwic3RvcCIsImZhZGVPdXQiLCJnZXRTY3JvbGwiLCJzY3JvbGwiLCJzZWxlY3RvciIsImRvYyIsImJvZHkiLCJlbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImNsaWVudCIsImNvbXBhdE1vZGUiLCJvcGVuUG9wVXAiLCJwb3B1cCIsInRyaWdnZXIiLCIkcG9wVXBEYXRlIiwiYXR0ciIsIndpbmRvd3NPUyIsImNzcyIsImhpZGUiLCJmYWRlSW4iLCIkcG9wVXBDb250ZW50IiwidG9Mb3dlckNhc2UiLCJldmVudCIsIlN3aXBlciIsImVmZmVjdCIsInNsaWRlc1BlclZpZXciLCJsb29wIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsImNhbGwiLCJrZXlDb2RlIiwibW91c2V1cCIsImlzIiwidGFyZ2V0IiwiaGFzIiwibWF0Y2giLCJiYXNlX29wdGlvbnMiLCJkcm9wZG93bkF1dG9XaWR0aCIsIndpZHRoIiwiYWxsb3dDbGVhciIsInVuc2V0VmFsdWUiLCIkdGhpcyIsInRleHQiLCJzaWJsaW5ncyIsImZpbmQiLCJ0cmltIiwidmFsIiwib3B0aW9ucyIsImV4dGVuZCIsInBsYWNlaG9sZGVyIiwiaWQiLCJkYXRhIiwic2VsZWN0MiIsInRoZW1lIiwiYWZ0ZXIiLCJvcGFjaXR5IiwiaGVpZ2h0IiwidG9nZ2xlQ2xhc3MiLCJjbG9zZXN0IiwibWF0Y2hlZFRhYiIsImhhc2giLCJsb2NhdGlvbiIsImluZGV4IiwidGFicyIsImFjdGl2ZSIsImR1cmF0aW9uIiwiYmVmb3JlQWN0aXZhdGUiLCIkdGFyZ2V0IiwiY3VycmVudFRhcmdldCIsInNjcm9sbFRvcCIsImhyZWYiLCJoaXN0b3J5IiwicmVwbGFjZVN0YXRlIiwiY3JlYXRlIiwiYXBwcm92ZSIsIm9iamVjdEZpdEltYWdlcyIsImRhdGVwaWNrZXIiLCJpbmxpbmUiLCJmaXJzdERheSIsImF1dG9TaXplIiwiZGF0ZUZvcm1hdCIsIm1vbnRoTmFtZXMiLCJtb250aE5hbWVzU2hvcnQiLCJvblNlbGVjdCIsImRhdGVUZXh0IiwiaW5zdCIsImN1cnJlbnREYXkiLCJjdXJyZW50TW9udGgiLCJjdXJyZW50WWVhciIsInVybCIsImJlZm9yZVNob3ciLCJpbnB1dCIsImxlZnQiLCJvZmZzZXQiLCJjbGllbnRXaWR0aCIsImFkYXB0aXZlU2VsZWN0UG9zdGVyIiwic2VsZWN0UG9zdGVyIiwibW9iaWxlUG9zdGVyIiwiZGVza3RvcFBvc3RlciIsImlubmVyV2lkdGgiLCJhcHBlbmQiLCJyZXNpemUiLCJpbml0U2xpZGVyUG9zdGVyIiwiX1N3aXBlciIsInN3aXBlciIsInNwZWVkIiwic2xpZGVyUG9zdGVySW5zdGFuc2UiLCJfU3dpcGVyMiIsInBhcmVudHMiLCJ3cmFwIiwibW91bnRhaW4iLCJzbW9rZTEiLCJzbW9rZTIiLCJjb3ZlciIsImxvZ28xIiwibG9nbzIiLCJzY3JvbGxIYW5kbGUiLCJzdHlsZSIsInRyYW5zZm9ybSIsImNvbmNhdCIsImFkZEV2ZW50TGlzdGVuZXIiLCIkc2Nyb2xsVG8iLCJwcmV2ZW50RGVmYXVsdCIsInNjcm9sbFRvIiwib25BZnRlciIsInltYXBzIiwibXlNYXAiLCJNYXAiLCJjZW50ZXIiLCJ6b29tIiwibXlQbGFjZW1hcmsiLCJQbGFjZW1hcmsiLCJnZXRDZW50ZXIiLCJwcmVzZXQiLCJnZW9PYmplY3RzIiwiYWRkIiwicGFnaW5hdGlvbiIsImNsaWNrYWJsZSIsImNoZWNrU2Nyb2xsIiwiJHdyYXAiLCJmb290ZXJIZWlnaHQiLCJmb290ZXIiLCJvZmZzZXRIZWlnaHQiLCJzdG9wUG9zaXRpb24iLCJzY3JvbGxIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJidG4iLCJhbmltYXRlIiwiJGNsaWNrIiwiJHRleHQiLCJtYXgtaGVpZ2h0Iiwic3RvcFByb3BhZ2F0aW9uIiwicGFyZW50IiwiJGNhcmQiLCJhY2NvcmRpb24iLCJjb2xsYXBzaWJsZSIsImhlaWdodFN0eWxlIiwiaXNCdXR0b25EaXNhYmxlZCIsIiRmb3JtIiwiQm9vbGVhbiIsInNldEJ1dHRvbkRpc2FibGVkIiwiX2Jvb2xlYW4iLCIkc3ViIiwicHJvcCIsInZhbGlkYXRvciIsIm1lc3NhZ2VzIiwicmVxdWlyZWQiLCJwaG9uZSIsInJlbW90ZSIsImVtYWlsIiwiZGF0ZUlTTyIsIm51bWJlciIsImRpZ2l0cyIsImNyZWRpdGNhcmQiLCJlcXVhbFRvIiwiZXh0ZW5zaW9uIiwibWF4bGVuZ3RoIiwiZm9ybWF0IiwibWlubGVuZ3RoIiwicmFuZ2VsZW5ndGgiLCJyYW5nZSIsIm1heCIsIm1pbiIsImFnZSIsImRlZmFnZSIsImNpdHkiLCJ0ZXh0YXJlYSIsImFkZE1ldGhvZCIsInJlZ1Bob25lIiwicmVnRW1haWwiLCJtaW5EYXRlIiwicGFyc2UiLCJtYXhEYXRlIiwidmFsdWVFbnRlcmVkIiwialF1ZXJ5IiwiYWRkQ2xhc3NSdWxlcyIsImpzLW5hbWUiLCJ0ZXh0LW5hbWUiLCJqcy10ZWwiLCJ0ZWwiLCJqcy1lbWFpbCIsInZhbGlkYXRlIiwiaWdub3JlIiwic3VibWl0SGFuZGxlciIsImZvcm0iLCJpc1ZhbGlkQ2xlYXIiLCJ1bmRlZmluZWQiLCJyZXNldEZvcm0iLCJ2YWxpZCIsImNoZWNrRm9ybSIsIjgzNCIsInNwYWNlQmV0d2VlbiIsIjEyMDAiLCJtZXRob2QiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYWpheCIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJzdWNjZXNzIiwiZXJyb3IiLCJodG1sIiwiZGVzdHJveSIsImJyZWFrcG9pbnRzIiwibWFzb25yeSIsIml0ZW1TZWxlY3RvciJdLCJtYXBwaW5ncyI6IkFBQUEsWUFFQSxTQUFTQSxpQkFBZ0JDLEVBQUtDLEVBQUtDLEdBQWlLLE1BQXBKRCxLQUFPRCxHQUFPRyxPQUFPQyxlQUFlSixFQUFLQyxHQUFPQyxNQUFPQSxFQUFPRyxZQUFZLEVBQU1DLGNBQWMsRUFBTUMsVUFBVSxJQUFrQlAsRUFBSUMsR0FBT0MsRUFBZ0JGLEdBRTNNLFdBQ0UsUUFBU1EsS0FtRVAsUUFBU0MsR0FBV0MsRUFBSUMsR0FVdEIsUUFBU0MsR0FBU0MsR0FDaEIsR0FBSUMsR0FBV0MsRUFBRUMsVUFBVU4sRUFBR08sV0FDMUJDLEVBQVdMLEVBQWMsR0FBR0ssU0FDNUJDLEVBQVdDLElBQVFGLEVBQVdBLEVBQVNHLE1BQU0sU0FDN0NDLEVBQVFSLEVBQVNTLE9BQU9DLEVBQVNMLEdBQ2pDTSxFQUFVTixFQUFTSSxPQUFPQyxFQUFTVixFQUN2Q0gsR0FBS1csRUFBT0csRUFBU1gsRUFBVUssR0FDL0JDLEVBQU1OLEVBR1IsUUFBU1UsR0FBUUUsR0FDZixNQUFPQyxNQUFLQyxRQUFRRixHQUFLLEVBcEIzQixHQUFJTixHQUNBUyxFQUFLLEdBQUlDLGtCQUFpQmxCLEVBTTlCLE9BTEFpQixHQUFHRSxRQUFRckIsR0FDVHNCLFlBQVksRUFDWkMsbUJBQW1CLElBRXJCSixFQUFHVCxJQUFNQSxFQUNGUyxFQWlCVCxRQUFTSyxHQUFleEIsRUFBSXlCLEVBQVFDLEVBQU1DLEdBcUJ4QyxRQUFTQyxHQUFLQyxFQUFLQyxHQUNqQixNQUFPQSxHQUFNQyxNQUFNLFNBQVVmLEdBQzNCLE1BQU9hLEdBQUlYLFFBQVFGLElBQU0sSUF0QjdCLEdBQUlnQixHQUFhUCxFQUFPZCxNQUFNLElBSTlCLE9BRkFl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QyxHQUFNdEMsRUFBS3NDLElBQ1hsTixFQUFRNEssRUFBSzVLLE1BQ2JxQixFQUFTdUosRUFBS3ZKLE1BQ2xCUixHQUFFb1UsTUFDQS9ILElBQUtBLEVBQ0x0QyxNQUNFNUssTUFBT0EsRUFDUHFCLE9BQVFBLEdBRVYrVCxRQUFTLFFBQVNBLEdBQVF4SyxHQUN4QixHQUFJd0ssR0FBVXhLLEVBQUt3SyxRQUNmRSxFQUFPMUssRUFBSzBLLElBRVpGLEtBQ0ZqSCxxQkFBcUJvSCxTQUFRLEdBQU0sR0FDbkMxVSxFQUFFLHFCQUFxQnlVLEtBQUtBLEdBQzVCelUsRUFBRSxRQUFRd0gsUUFBUSw0QkFPNUJ4SCxFQUFFd0QsVUFBVXNCLE1BQU0sV0FDaEI5RSxFQUFFd0QsVUFBVTZDLEdBQUcsUUFBUyxpQkFBa0IsV0FDeEMsR0FBSWdELEdBQVFySixFQUFFWSxNQUNWbUssRUFBVS9LLEVBQUVxSixFQUFNVSxLQUFLLFdBQ3ZCc0MsRUFBTWhELEVBQU1VLEtBQUssTUFDckIvSixHQUFFb1UsTUFDQS9ILElBQUtBLEVBQ0xrSSxRQUFTLFNBQWlCeEssR0FDcEJBLEVBQUt3SyxVQUNQeEssRUFBSzBLLE1BQVExSixFQUFRMEosS0FBSzFLLEVBQUswSyxNQUMvQjFLLEVBQUtxRixZQUFjcFAsRUFBRSx1QkFBdUJ5VSxLQUFLMUssRUFBS3FGLG1CQWtCbkQsSUFBSWxILFFBQU8scUJBQ3RCbUYsTUFBTyxJQUNQakYsY0FBZSxFQUNmZ0gsWUFDRXpQLEdBQUksK0JBQ0owUCxXQUFXLEdBRWJzRixhQUNFYixLQUNFMUwsY0FBZSxHQUVqQjRMLE1BQ0U1TCxjQUFlLEtBTWpCcEksR0FBRSxZQUFZNkIsUUFDaEI3QixFQUFFLFlBQVk0VSxTQUNaQyxhQUFjLGtCQVNwQnJSLFNBQVM0SyxpQkFBaUIsbUJBQW9CM08iLCJmaWxlIjoiaW50ZXJuYWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZG9jdW1lbnRSZWFkeSgpIHtcbiAgICB2YXIgX1N3aXBlcjMsIF9Td2lwZXI0LCBfU3dpcGVyNSwgX1N3aXBlcjYsIF9Td2lwZXI3O1xuXG4gICAgLyoqXG4gICAgICog0JLQtdGA0YHQuNGPINC00LvRjyBlczVcbiAgICAgKiDQodC+0LfQtNCw0LXRgiDQvNCw0YHRgdC40LIgTWVkaWFRdWVyeUxpc3Qg0Lgg0YHQu9C10LTQuNGCINC30LAg0LXQs9C+INC+0LHQvdC+0LLQu9C10L3QuNC10LxcbiAgICAgKlxuICAgICAqIEBwYXJhbSAge29iamVjdH0gcXVlcmllc0xpc3QgLSDQntCx0YrQtdC60YIg0LLQuNC00LAgeyBkZWZhdWx0OiBmb28sICcobWluLXdpZHRoOiA3NjBweCknOiBiYXIgfVxuICAgICAqIEBwYXJhbSAge2Z1bmN0aW9ufSBmdW5jIC0g0LrQvtC70LvQsdGN0Log0YTRg9C90LrRhtC40Y8sINC/0LXRgNCy0YvQuSDQv9Cw0YDQsNC80LXRgtGAINC60L7RgtC+0YDQvtC5IC0g0YLQtdC60YPRidC10LUg0LfQvdCw0YfQtdC90LjQtSxcbiAgICAgKiDQsCDQstGC0L7RgNC+0LkgLSDRgdGC0YDQvtC60LAg0YEg0YLQtdC60YPRidC40Lwg0LzQtdC00LjQsCDQt9Cw0L/RgNC+0YHQvtC8XG4gICAgICovXG4gICAgZnVuY3Rpb24gTWVkaWFIYW5kbGVyKHF1ZXJpZXNMaXN0LCBmdW5jKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZnVuYyA9IGZ1bmN0aW9uIGZ1bmMoZikge1xuICAgICAgICAgIGlmICh0eXBlb2YgZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgZigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgdmFyIGRlZmF1bHRRdWVyeTtcbiAgICAgIHZhciBxdWVyeUxpc3Q7XG4gICAgICB2YXIgZGVmYXVsdFZhbHVlID0gcXVlcmllc0xpc3RbXCJkZWZhdWx0XCJdO1xuICAgICAgdmFyIHF1ZXJpZXMgPSAkLmV4dGVuZCh7fSwgcXVlcmllc0xpc3QpO1xuICAgICAgZGVsZXRlIHF1ZXJpZXNbXCJkZWZhdWx0XCJdO1xuICAgICAgZGVmYXVsdFF1ZXJ5ID0ge1xuICAgICAgICBxdWVyeTogJ2RlZmF1bHQnLFxuICAgICAgICB2YWx1ZTogZGVmYXVsdFZhbHVlXG4gICAgICB9O1xuICAgICAgcXVlcnlMaXN0ID0gT2JqZWN0LmtleXMocXVlcmllcykubWFwKGZ1bmN0aW9uIChxdWVyeSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBxdWVyaWVzW3F1ZXJ5XTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBsaXN0OiB3aW5kb3cubWF0Y2hNZWRpYShxdWVyeSksXG4gICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgIHF1ZXJ5OiBxdWVyeVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICBxdWVyeUxpc3QuZm9yRWFjaChmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgIG9iamVjdC5saXN0LmFkZExpc3RlbmVyKHNldEN1cnJlbnRRdWVyeSk7XG4gICAgICB9KTtcbiAgICAgIHNldEN1cnJlbnRRdWVyeSgpO1xuXG4gICAgICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHF1ZXJ5TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgICAgICBvYmplY3QubGlzdC5yZW1vdmVMaXN0ZW5lcihzZXRDdXJyZW50UXVlcnkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcXVlcnlMaXN0ID0gbnVsbDtcbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIHNldEN1cnJlbnRRdWVyeSgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBxdWVyeUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgICAgICByZXR1cm4gb2JqZWN0Lmxpc3QubWF0Y2hlcztcbiAgICAgICAgfSlbMF0gfHwgZGVmYXVsdFF1ZXJ5O1xuICAgICAgICBmdW5jKGN1cnJlbnQudmFsdWUsIGN1cnJlbnQucXVlcnkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIDtcbiAgICAvKipcbiAgICAgKiDQktC10YDRgdC40Y8g0LTQu9GPIGVzNVxuICAgICAqINCh0LvQtdC00LjRgiDQt9CwINC60LvQsNGB0YHQsNC80LggRE9NLdC+0LHRitC10LrRgtCwINC4INCy0YvQt9GL0LLQsNC10YIg0YTRg9C90LrRhtC40Y4g0L/RgNC4INC40LfQvNC10L3QtdC90LjQuCDQvdCw0LHQvtGA0LAg0LrQu9Cw0YHRgdC+0LIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtET00tb2JqZWN0fSBlbCAtINC+0LHRitC10LrRgiwg0LfQsCDQutC+0YLQvtGA0YvQvCDQstC10LTQtdGC0YHRjyDQvdCw0LHQu9GO0LTQtdC90LjQtS5cbiAgICAgKiBAcGFyYW0gIHtmdW5jdGlvbn0gZnVuYyAtINC60L7Qu9C70LHRjdC6INGE0YPQvdC60YbQuNGPLCDQv9C10YDQstGL0Lkg0L/QsNGA0LDQvNC10YLRgCDQutC+0YLQvtGA0L7QuSAtINC00L7QsdCw0LLQu9C10L3QvdGL0LUg0LrQu9Cw0YHRgdGLLFxuICAgICAqINCwINCy0YLQvtGA0L7QuSAtINGD0LHRgNCw0L3QvdGL0LUg0LrQu9Cw0YHRgdGLXG4gICAgICovXG5cbiAgICBmdW5jdGlvbiBDbGFzc0V2ZW50KGVsLCBmdW5jKSB7XG4gICAgICB2YXIgb2xkO1xuICAgICAgdmFyIG1vID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoY2FsbGJhY2spO1xuICAgICAgbW8ub2JzZXJ2ZShlbCwge1xuICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgICAgICBhdHRyaWJ1dGVPbGRWYWx1ZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgICBtby5vbGQgPSBvbGQ7XG4gICAgICByZXR1cm4gbW87XG5cbiAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrKG11dGF0aW9uc0xpc3QpIHtcbiAgICAgICAgdmFyIG5ld0NsYXNzID0gJC5tYWtlQXJyYXkoZWwuY2xhc3NMaXN0KTtcbiAgICAgICAgdmFyIG9sZFZhbHVlID0gbXV0YXRpb25zTGlzdFswXS5vbGRWYWx1ZTtcbiAgICAgICAgdmFyIG9sZENsYXNzID0gb2xkIHx8IChvbGRWYWx1ZSA/IG9sZFZhbHVlLnNwbGl0KCcgJykgOiBbXSk7XG4gICAgICAgIHZhciBhZGRlZCA9IG5ld0NsYXNzLmZpbHRlcihjaGFuZ2VkLCBvbGRDbGFzcyk7XG4gICAgICAgIHZhciByZW1vdmVkID0gb2xkQ2xhc3MuZmlsdGVyKGNoYW5nZWQsIG5ld0NsYXNzKTtcbiAgICAgICAgZnVuYyhhZGRlZCwgcmVtb3ZlZCwgbmV3Q2xhc3MsIG9sZENsYXNzKTtcbiAgICAgICAgb2xkID0gbmV3Q2xhc3M7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNoYW5nZWQoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbmRleE9mKGUpIDwgMDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvYnNlcnZlQ2xhc3NlcyhlbCwgX2NsYXNzLCBzaG93LCByZXNldCkge1xuICAgICAgdmFyIGNsYXNzQXJyYXkgPSBfY2xhc3Muc3BsaXQoJyAnKTtcblxuICAgICAgc2hvdyA9IHR5cGVvZiBzaG93ID09PSAnZnVuY3Rpb24nID8gc2hvdyA6IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgcmVzZXQgPSB0eXBlb2YgcmVzZXQgPT09ICdmdW5jdGlvbicgPyByZXNldCA6IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgcmV0dXJuIG5ldyBDbGFzc0V2ZW50KGVsLCBmdW5jdGlvbiAoYWRkZWQsIHJlbW92ZWQsIGFsbCwgb2xkKSB7XG4gICAgICAgIGlmIChjbGFzc0FycmF5Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBpZiAoIXRlc3Qob2xkLCBjbGFzc0FycmF5KSAmJiB0ZXN0KGFsbCwgY2xhc3NBcnJheSkpIHtcbiAgICAgICAgICAgIHNob3coKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRlc3Qob2xkLCBjbGFzc0FycmF5KSAmJiAhdGVzdChhbGwsIGNsYXNzQXJyYXkpKSB7XG4gICAgICAgICAgICByZXNldCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodGVzdChhZGRlZCwgY2xhc3NBcnJheSkpIHtcbiAgICAgICAgICAgIHNob3coKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRlc3QocmVtb3ZlZCwgY2xhc3NBcnJheSkpIHtcbiAgICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gdGVzdChhcnIsIHByb2JlKSB7XG4gICAgICAgIHJldHVybiBwcm9iZS5ldmVyeShmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIHJldHVybiBhcnIuaW5kZXhPZihlKSA+PSAwO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICA7XG4gICAgLyoqXG4gICAgICog0JLQtdGA0YHQuNGPINC00LvRjyBlczVcbiAgICAgKiDQo9GB0YLQsNC90LDQstC70LjQstCw0LXRgiDQs9C10YLRgtC10YAg0Lgg0YHQtdGC0YLQtdGAINCyINC+0LHRitC10LrRglxuICAgICAqL1xuXG4gICAgZnVuY3Rpb24gZGVmaW5lU2V0dGVyKG9iaiwgZnVuY3Rpb25zKSB7XG4gICAgICB2YXIgc2hhZG93ID0ge307XG4gICAgICBPYmplY3Qua2V5cyhmdW5jdGlvbnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoa2V5IGluIG9iaikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHNoYWRvd1trZXldO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsKSB7XG4gICAgICAgICAgICB2YXIgb2xkID0gc2hhZG93W2tleV07XG5cbiAgICAgICAgICAgIGlmICh2YWwgIT09IG9sZCkge1xuICAgICAgICAgICAgICBzaGFkb3dba2V5XSA9IHZhbDtcbiAgICAgICAgICAgICAgZnVuY3Rpb25zW2tleV0odmFsLCBvbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICA7XG4gICAgLypcbiAgICB7XG4gICAgICAgICcxMCUgLSAyMCUnOiBmdW5jdGlvbihwcm9ncmVzcykge30sXG4gICAgICAgICc1MCUnOiBmdW5jdGlvbihwcm9ncmVzcykge30sXG4gICAgfVxuICAgICBhbmltYXRpb25zdGFydFxuICAgIGFuaW1hdGlvbmVuZFxuICAgICovXG5cbiAgICBmdW5jdGlvbiBBbmltYXRpb25RdWV1ZShsaXN0LCBkdXJhdGlvbiwgdGhyb3R0bGUpIHtcbiAgICAgIHZhciBJTl9BQ1RJT04gPSAnYWN0aW9uJztcbiAgICAgIHZhciBPVVQgPSAnb3V0Oyc7XG4gICAgICB2YXIgcGVyY2VudFJlID0gbmV3IFJlZ0V4cCgnKFsuMC05XSspJScsICdnaScpO1xuICAgICAgdmFyIHNlY29uZFJlID0gbmV3IFJlZ0V4cCgnKFsuMC05XSspcycsICdnaScpO1xuICAgICAgdmFyIG1pbGxpc2Vjb25kUmUgPSBuZXcgUmVnRXhwKCcoWy4wLTldKyltcycsICdnaScpO1xuICAgICAgdmFyIHRpbWVTdGFydCA9IG51bGw7XG4gICAgICB2YXIgZmlyZWRMaXN0ID0gW107XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgc3RvcEZsYWc7XG4gICAgICB2YXIgZnJhbWUgPSAwO1xuICAgICAgdGhyb3R0bGUgPSB0aHJvdHRsZSB8fCAxO1xuXG4gICAgICBpZiAoaXNOYU4oZHVyYXRpb24pKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQgYXJndW1lbnRzJyk7XG4gICAgICB9XG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnYmVnaW4nLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aW1lU3RhcnQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdlbmQnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aW1lU3RhcnQgPyB0aW1lU3RhcnQgKyBkdXJhdGlvbiA6IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdpbkFjdGlvbicsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIEJvb2xlYW4odGltZVN0YXJ0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghc2VsZi5pbkFjdGlvbikge1xuICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoc2VsZi5pbkFjdGlvbikge1xuICAgICAgICAgIHN0b3BGbGFnID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy5saXN0ID0gT2JqZWN0LmtleXMobGlzdCkubWFwKGZ1bmN0aW9uIChrZXksIGlkKSB7XG4gICAgICAgIHZhciBzdGFydDtcbiAgICAgICAgdmFyIGVuZDtcbiAgICAgICAgdmFyIHRpbWluZyA9IGtleS5zcGxpdCgnLScpO1xuICAgICAgICB0aW1pbmcuZm9yRWFjaChmdW5jdGlvbiAoZSwgaSwgYXJyKSB7XG4gICAgICAgICAgdmFyIHN0ciA9IGUudHJpbSgpO1xuICAgICAgICAgIHZhciB1bml0cyA9IDE7XG4gICAgICAgICAgdW5pdHMgPSAvKFsuMC05XSspJS8udGVzdChzdHIpID8gMC4wMSA6IHVuaXRzO1xuICAgICAgICAgIHVuaXRzID0gLyhbLjAtOV0rKXMvLnRlc3Qoc3RyKSA/IDEwMDAgLyBkdXJhdGlvbiA6IHVuaXRzO1xuICAgICAgICAgIHVuaXRzID0gLyhbLjAtOV0rKW1zLy50ZXN0KHN0cikgPyAxIC8gZHVyYXRpb24gOiB1bml0cztcbiAgICAgICAgICBhcnJbaV0gPSBwYXJzZUZsb2F0KHN0cikgKiB1bml0cztcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgIHN0YXJ0OiBpc05hTih0aW1pbmdbMF0pID8gLTEgOiB0aW1pbmdbMF0sXG4gICAgICAgICAgZW5kOiBpc05hTih0aW1pbmdbMV0pID8gdGltaW5nWzBdIDogdGltaW5nWzFdLFxuICAgICAgICAgIGZ1bmM6IHR5cGVvZiBsaXN0W2tleV0gPT09ICdmdW5jdGlvbicgPyBsaXN0W2tleV0gOiBmdW5jdGlvbiAoKSB7fVxuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAgIGZ1bmN0aW9uIHN0ZXAodGltZXN0YW1wKSB7XG4gICAgICAgIHZhciBwcm9ncmVzcztcbiAgICAgICAgZnJhbWUrKztcblxuICAgICAgICBpZiAoIXRpbWVTdGFydCAmJiB0eXBlb2Ygc2VsZi5hbmltYXRpb25zdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHNlbGYuYW5pbWF0aW9uc3RhcnQuY2FsbChzZWxmKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRpbWVTdGFydCA9IHRpbWVTdGFydCB8fCB0aW1lc3RhbXA7XG5cbiAgICAgICAgaWYgKHRpbWVzdGFtcCA8PSBzZWxmLmVuZCAmJiAhc3RvcEZsYWcpIHtcbiAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RvcEZsYWcgPSBudWxsO1xuICAgICAgICAgIHRpbWVTdGFydCA9IG51bGw7XG4gICAgICAgICAgZmlyZWRMaXN0ID0gW107XG4gICAgICAgICAgZnJhbWUgPSAwO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBzZWxmLmFuaW1hdGlvbmVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgc2VsZi5hbmltYXRpb25lbmQuY2FsbChzZWxmKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZnJhbWUgJSB0aHJvdHRsZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb2dyZXNzID0gbWFwKHRpbWVzdGFtcCwgc2VsZi5iZWdpbiwgc2VsZi5lbmQsIDAsIDEpO1xuICAgICAgICBzZWxmLmxpc3QuZmlsdGVyKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgdmFyIGluQWN0aW9uID0gZS5zdGFydCA8PSBwcm9ncmVzcyAmJiBwcm9ncmVzcyA8PSBlLmVuZDsgLy8g0L7QtNC40L3QvtGH0L3Ri9C5INCy0YvQt9C+0LJcblxuICAgICAgICAgIGlmIChlLnN0YXJ0ID09PSBlLmVuZCAmJiBlLnN0YXJ0IDw9IHByb2dyZXNzICYmICFmaXJlZExpc3RbZS5pZF0pIHtcbiAgICAgICAgICAgIGZpcmVkTGlzdFtlLmlkXSA9IE9VVDtcbiAgICAgICAgICAgIGUuZnVuYy5jYWxsKHNlbGYsIDAsICdvbmNlJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSAvLyDQv9C10YDQstGL0Lkg0LLRi9C30L7QslxuXG5cbiAgICAgICAgICBpZiAoaW5BY3Rpb24gJiYgIWZpcmVkTGlzdFtlLmlkXSkge1xuICAgICAgICAgICAgZmlyZWRMaXN0W2UuaWRdID0gSU5fQUNUSU9OO1xuICAgICAgICAgICAgZS5mdW5jLmNhbGwoc2VsZiwgMCwgJ2ZpcnN0Jyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSAvLyDQv9C+0YHQu9C10LTQvdC40Lkg0LLRi9C30L7QslxuXG5cbiAgICAgICAgICBpZiAoIWluQWN0aW9uICYmIGZpcmVkTGlzdFtlLmlkXSA9PT0gSU5fQUNUSU9OKSB7XG4gICAgICAgICAgICBmaXJlZExpc3RbZS5pZF0gPSBPVVQ7XG4gICAgICAgICAgICBlLmZ1bmMuY2FsbChzZWxmLCAxLCAnbGFzdCcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBpbkFjdGlvbjtcbiAgICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGUuZnVuYy5jYWxsKHNlbGYsIG1hcChwcm9ncmVzcywgZS5zdGFydCwgZS5lbmQsIDAsIDEpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFwKHgsIGluTWluLCBpbk1heCwgb3V0TWluLCBvdXRNYXgpIHtcbiAgICAgIHJldHVybiAoeCAtIGluTWluKSAqIChvdXRNYXggLSBvdXRNaW4pIC8gKGluTWF4IC0gaW5NaW4pICsgb3V0TWluO1xuICAgIH1cblxuICAgIDtcbiAgICB2YXIgT0ZGU0VUID0gMC4zO1xuICAgIHZhciBJTlNJREVfUEFUVEVSTlMgPSBbJ2JlYmUnLCAnYmVlYicsICdlYmViJywgJ2ViYmUnXTtcbiAgICB2YXIgQU5JTUFUSU9OX0NMQVNTID0gJy5qcy1vbi12aXNpYmxlJzsgLy8g0YEg0YLQvtGH0LrQvtC5XG5cbiAgICB2YXIgSElEREVOX0NMQVNTID0gJ2FuaW1hdGVkJzsgLy8g0LHQtdC3INGC0L7Rh9C60LhcblxuICAgIHZhciBBTklNQVRJT05fSElEREVOX0NMQVNTID0gQU5JTUFUSU9OX0NMQVNTICsgJy4nICsgSElEREVOX0NMQVNTO1xuICAgIHZhciBWSUVXUE9SVF9DTEFTUyA9ICcuanMtaXMtdmlzaWJsZSc7IC8vINGBINGC0L7Rh9C60L7QuVxuXG4gICAgdmFyIElOX0NMQVNTID0gJ2luLXZpZXdwb3J0JzsgLy8g0LHQtdC3INGC0L7Rh9C60LhcblxuICAgIHZhciBIT0xEX0NMQVNTID0gJ2hvbGQtb3V0c2lkZS12aWV3cG9ydCc7IC8vINCx0LXQtyDRgtC+0YfQutC4XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdGhyX2NoZWNrRWRnZXMgPSB0aHJvdHRsZShjaGVja0VkZ2VzLCAyMDApO1xuICAgICAgdmFyICRlbGVtZW50cyA9ICQoQU5JTUFUSU9OX0NMQVNTICsgJywnICsgVklFV1BPUlRfQ0xBU1MpO1xuXG4gICAgICBpZiAoJGVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAkKHdpbmRvdykub2ZmKCdzY3JvbGwnLCB0aHJfY2hlY2tFZGdlcyk7XG4gICAgICAgICQoJy5vcy12aWV3cG9ydCcpLm9uKCdzY3JvbGwnLCB0aHJfY2hlY2tFZGdlcyk7XG4gICAgICAgIGNoZWNrRWRnZXMoKTtcbiAgICAgICAgJGVsZW1lbnRzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgIG9ic2VydmVDbGFzc2VzKHRoaXMsIEhPTERfQ0xBU1MsIGNoZWNrRWRnZXMsIGNoZWNrRWRnZXMpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2hlY2tFZGdlcyhpbnNpZGUsIG91dHNpZGUpIHtcbiAgICAgICAgdmFyIHZpZXdwb3J0SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICB2YXIgdG9wID0gT0ZGU0VUICogdmlld3BvcnRIZWlnaHQ7XG4gICAgICAgIHZhciBib3R0b20gPSAoMSAtIE9GRlNFVCkgKiB2aWV3cG9ydEhlaWdodDtcbiAgICAgICAgJChBTklNQVRJT05fSElEREVOX0NMQVNTKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKEhPTERfQ0xBU1MpICYmIHRlc3QodGhpcykpIHtcbiAgICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZShISURERU5fQ0xBU1MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRvcCA9IDA7XG4gICAgICAgIGJvdHRvbSA9IHZpZXdwb3J0SGVpZ2h0O1xuICAgICAgICAkKFZJRVdQT1JUX0NMQVNTKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGlzLmNsYXNzTGlzdC50b2dnbGUoSU5fQ0xBU1MsICF0aGlzLmNsYXNzTGlzdC5jb250YWlucyhIT0xEX0NMQVNTKSAmJiB0ZXN0KHRoaXMpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gdGVzdChlbCkge1xuICAgICAgICAgIHZhciBib3ggPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICB2YXIgcGF0dGVybiA9IFtbJ2InLCB0b3BdLCBbJ2InLCBib3R0b21dLCBbJ2UnLCBib3gudG9wXSwgWydlJywgYm94LmJvdHRvbV1dLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBhWzFdIC0gYlsxXTtcbiAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBlWzBdO1xuICAgICAgICAgIH0pLmpvaW4oJycpO1xuICAgICAgICAgIHJldHVybiBJTlNJREVfUEFUVEVSTlMuaW5kZXhPZihwYXR0ZXJuKSA+PSAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiB0aHJvdHRsZShmdW5jLCBtcykge1xuICAgICAgdmFyIGlzVGhyb3R0bGVkID0gZmFsc2U7XG4gICAgICB2YXIgc2F2ZWRBcmdzO1xuICAgICAgdmFyIHNhdmVkVGhpcztcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc1Rocm90dGxlZCkge1xuICAgICAgICAgIHNhdmVkQXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgICBzYXZlZFRoaXMgPSB0aGlzO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlzVGhyb3R0bGVkID0gdHJ1ZTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaXNUaHJvdHRsZWQgPSBmYWxzZTtcbiAgICAgICAgICBmdW5jLmFwcGx5KHNhdmVkVGhpcywgc2F2ZWRBcmdzKTtcbiAgICAgICAgICBzYXZlZEFyZ3MgPSBzYXZlZFRoaXMgPSBudWxsO1xuICAgICAgICB9LCBtcyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIDsgLy8gPT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyByb2JpbnpvbjogcG9wdXAuanNcbiAgICAvLyAxNS4wMS4yMDE4OiBBbWVkb21hcnlcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyDQntGC0LrRgNGL0YLQuNC1INC/0L7Qv9CQ0L/QsCDQuCDQt9Cw0L/RgNC10YIg0YHQutGA0L7Qu9CwINC90LAgYm9keVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHBhZ2UgPSAkKCcuYi1wYWdlLXdyYXBwZXInKTtcbiAgICAgIHZhciAkcG9wVXAgPSAkKCcuYi1wb3B1cCwgLmpzLXBvcHVwLWN1c3RvbScpO1xuICAgICAgdmFyICRwb3BVcENvbnRlbnQgPSAkKCcuYi1wb3B1cF9fY29udGVudCcpO1xuICAgICAgdmFyIHdpbmRvd3NPUyA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCd3aW5kb3dzJykgIT09IC0xO1xuICAgICAgJCgnLmpzLW9wZW4tcG9wdXAnKS5vbigncG9wdXAub25DbG9zZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBjbG9zZVBvcFVwKCk7XG4gICAgICB9KTsgLy8g0JfQsNC60YDRi9GC0LjQtSDQv9C+0L/QkNC/0L7QslxuXG4gICAgICBmdW5jdGlvbiBjbG9zZVBvcFVwKCkge1xuICAgICAgICAvLyDQn9GA0L7QstC10YDRj9C10Lwg0L7RgtC60YDRi9GCINC70Lgg0L/QvtC/0JDQv1xuICAgICAgICBpZiAoJHBvcFVwLmhhc0NsYXNzKCdvcGVuJykpIHtcbiAgICAgICAgICAkcGFnZS5yZW1vdmVDbGFzcygnbm8tc2Nyb2xsIG5vLXRvdWNoIHdpbmRvd3MnKTtcbiAgICAgICAgICAkcG9wVXAucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcbiAgICAgICAgICAkcG9wVXAuc3RvcCgpLmZhZGVPdXQoMzAwKTtcbiAgICAgICAgfVxuICAgICAgfSAvLyDQn9GA0L7QstC10YDQutCwINC90LAg0L3QsNC70LjRh9C40LUg0YHQutGA0L7Qu9Cw0LBcblxuXG4gICAgICBmdW5jdGlvbiBnZXRTY3JvbGwoc2Nyb2xsLCBzZWxlY3Rvcikge1xuICAgICAgICB2YXIgZG9jID0gZG9jdW1lbnQ7XG4gICAgICAgIHZhciBib2R5ID0gZG9jLmJvZHk7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZG9jLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICB2YXIgY2xpZW50ID0gJ2NsaWVudCcgKyBzY3JvbGw7XG4gICAgICAgIHNjcm9sbCA9ICdzY3JvbGwnICsgc2Nyb2xsO1xuICAgICAgICByZXR1cm4gL0NTUy8udGVzdChkb2MuY29tcGF0TW9kZSkgPyBlbGVtZW50W2NsaWVudF0gPCBlbGVtZW50W3Njcm9sbF0gOiBib2R5W2NsaWVudF0gPCBib2R5W3Njcm9sbF07XG4gICAgICB9IC8vINCa0LvQuNC6INC/0L4g0YHRgdGL0LvQutC1INC+0YLQutGA0YvQstCw0Y7RidC10Lkg0L/QvtC/0JDQv1xuXG5cbiAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuanMtb3Blbi1wb3B1cCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCh0aGlzKS50cmlnZ2VyKCdwb3B1cC5vbk9wZW4nKTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHN3aXBlciA9IG5ldyBTd2lwZXIoJy5qcy1wb3B1cC1zbGlkZXInLCB7XG4gICAgICAgICAgICBlZmZlY3Q6ICdmYWRlJyxcbiAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDEsXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICAgICAgbmF2aWdhdGlvbjoge1xuICAgICAgICAgICAgICBuZXh0RWw6ICcuYi1wb3B1cC1zbGlkZXIgLnN3aXBlci1idXR0b24tbmV4dCcsXG4gICAgICAgICAgICAgIHByZXZFbDogJy5iLXBvcHVwLXNsaWRlciAuc3dpcGVyLWJ1dHRvbi1wcmV2J1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LCAyMDAwKTtcbiAgICAgIH0pOyAvLyDQmtCw0YHRgtC+0LzQvdC+0LUg0YHQvtCx0YvRgtC40LUg0L7RgtC60YDRi9GC0LjQtSDQv9C+0L/QkNC/XG5cbiAgICAgICQoJy5qcy1vcGVuLXBvcHVwJykub24oJ3BvcHVwLm9uT3BlbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb3BlblBvcFVwLmNhbGwodGhpcyk7XG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gb3BlblBvcFVwKHBvcHVwKSB7XG4gICAgICAgIC8vINCh0L7Qt9C00LDQtdC8INGC0LjQv9CwIGNhbGxiYWNrXG4gICAgICAgICQodGhpcykudHJpZ2dlcigncG9wdXAub3BlbicsIFskcG9wVXBEYXRlXSk7XG4gICAgICAgIHBvcHVwID0gcG9wdXAgfHwgJCh0aGlzKS5hdHRyKCdkYXRhLXBvcHVwJyk7XG4gICAgICAgIHZhciAkcG9wVXBEYXRlID0gJCgnW2NsYXNzXj1cImItcG9wdXBcIl1bZGF0YS1wb3B1cD1cXCcnICsgcG9wdXAgKyAnXFwnXScpOyAvLyDQn9GA0L7QstC10YDRj9C10Lwg0LXRgdGC0Ywg0LvQuCDQvdCw0Lwg0YfRgtC+INC+0YLQutGA0YvRgtGMXG5cbiAgICAgICAgaWYgKCRwb3BVcERhdGUubGVuZ3RoID4gMCkge1xuICAgICAgICAgIC8vINCf0YDQvtCy0LXRgNGP0LXQvCDQvtC/0LXRgNCw0YbQuNC+0L3QvdGD0Y4g0YHQuNGB0YLQtdC80YMg0L3QsCBXaW4g0Lgg0KHQutGA0L7Qu9C7XG4gICAgICAgICAgaWYgKHdpbmRvd3NPUyAmJiBnZXRTY3JvbGwoJ0hlaWdodCcsICcuYi1wYWdlLXdyYXBwZXInKSkge1xuICAgICAgICAgICAgJHBhZ2UuYWRkQ2xhc3MoJ3dpbmRvd3MnKTtcbiAgICAgICAgICB9IC8vINCX0LDQutGA0YvQstCw0LXQvCDQv9C10YDQtdC0INC+0YLQutGA0YvRgtC40LzQtSDQtNGA0YPQs9C40LVcblxuXG4gICAgICAgICAgJHBvcFVwLnJlbW92ZUNsYXNzKCdvcGVuJyk7XG4gICAgICAgICAgJHBvcFVwLmZhZGVPdXQoMzAwKTtcbiAgICAgICAgICAkcGFnZS5hZGRDbGFzcygnbm8tc2Nyb2xsIG5vLXRvdWNoJyk7XG4gICAgICAgICAgJHBvcFVwRGF0ZS5hZGRDbGFzcygnb3BlbicpO1xuICAgICAgICAgICRwb3BVcERhdGUuY3NzKCdkaXNwbGF5JywgJ2ZsZXgnKS5oaWRlKCkuZmFkZUluKDMwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgd2luZG93Lm9wZW5Qb3BVcCA9IG9wZW5Qb3BVcDsgLy8g0JrQu9C40Log0L/QviDQl9Cw0LrRgNGL0YLQuNGOINC/0L7Qv9CQ0L/QvtCyXG5cbiAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuanMtY2xvc2UtcG9wdXAnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNsb3NlUG9wVXAoKTtcblxuICAgICAgICBpZiAoJCgnLmpzLW1lbnUtaW4tcG9wdXAtYmFjaycpLmxlbmd0aCkge1xuICAgICAgICAgICQoJy5qcy1tZW51LWluLXBvcHVwLWJhY2snKS50cmlnZ2VyKCdjbGljaycpO1xuICAgICAgICB9XG4gICAgICB9KTsgLy8g0JbQvNGP0Log0L/QviBFc2NcblxuICAgICAgJChkb2N1bWVudCkub24oJ2tleWRvd24nLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDI3KSB7XG4gICAgICAgICAgY2xvc2VQb3BVcCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgICQoZG9jdW1lbnQpLm1vdXNldXAoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKCRwb3BVcC5oYXNDbGFzcygnb3BlbicpKSB7XG4gICAgICAgICAgLy8g0JrQu9C40Log0L3QtSDQv9C+INCa0L7QvdGC0LXQvdGC0YMg0Lgg0L3QtSDQtdCz0L4g0LTQvtGH0LrQsNC8XG4gICAgICAgICAgaWYgKCEkcG9wVXBDb250ZW50LmlzKGUudGFyZ2V0KSAmJiAkcG9wVXBDb250ZW50LmhhcyhlLnRhcmdldCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjbG9zZVBvcFVwKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICA7XG5cbiAgICBmdW5jdGlvbiBpc0lFKCkge1xuICAgICAgdmFyIHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7IC8vQ2hlY2sgdGhlIHVzZXJBZ2VudCBwcm9wZXJ0eSBvZiB0aGUgd2luZG93Lm5hdmlnYXRvciBvYmplY3RcblxuICAgICAgdmFyIG1zaWUgPSB1YS5pbmRleE9mKCdNU0lFICcpOyAvLyBJRSAxMCBvciBvbGRlclxuXG4gICAgICB2YXIgdHJpZGVudCA9IHVhLmluZGV4T2YoJ1RyaWRlbnQvJyk7IC8vSUUgMTFcblxuICAgICAgcmV0dXJuIG1zaWUgPiAwIHx8IHRyaWRlbnQgPiAwO1xuICAgIH0gLy9mdW5jdGlvbiB0byBzaG93IGFsZXJ0IGlmIGl0J3MgSUVcblxuXG4gICAgZnVuY3Rpb24gU2hvd0lFQWxlcnQoKSB7XG4gICAgICBpZiAoaXNJRSgpKSB7XG4gICAgICAgICQoJ2h0bWwnKS5hZGRDbGFzcygnbm8tb2JqZWN0LWZpdCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJCgnaHRtbCcpLmFkZENsYXNzKCdvYmplY3QtZml0Jyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgU2hvd0lFQWxlcnQoKTtcbiAgICB2YXIgdXNlckFnZW50ID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7XG5cbiAgICBpZiAodXNlckFnZW50Lm1hdGNoKC9pUGFkL2kpIHx8IHVzZXJBZ2VudC5tYXRjaCgvaVBob25lL2kpKSB7XG4gICAgICAkKCdodG1sJykuYWRkQ2xhc3MoJ2lvcycpO1xuICAgIH1cblxuICAgIDtcbiAgICB2YXIgYmFzZV9vcHRpb25zID0ge1xuICAgICAgZHJvcGRvd25BdXRvV2lkdGg6IHRydWUsXG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgYWxsb3dDbGVhcjogZmFsc2UgLy8gZHJvcGRvd25QYXJlbnQ6ICQodGhpcykuc2libGluZ3MoJy5zZWxlY3Qtd3JhcHBlcicpLFxuXG4gICAgfTtcblxuICAgIHZhciB1bnNldFZhbHVlID0gZnVuY3Rpb24gdW5zZXRWYWx1ZSgkdGhpcykge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICQoJy5zZWxlY3QyLXJlc3VsdHNfX29wdGlvbicpLm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHRleHQgPSAkKHRoaXMpLnRleHQoKTtcblxuICAgICAgICAgIGlmICggLy/QtdGB0LvQuCDQvtGC0LrRgNGL0YIg0LrQvtC90YLQtdC50L3QtdGAINGBINC+0LHRi9GH0L3Ri9C8INGB0LXQu9C10LrRgtC+0LxcbiAgICAgICAgICAkdGhpcy5zaWJsaW5ncygnLnNlbGVjdDItY29udGFpbmVyLS1vcGVuJykubGVuZ3RoICYmIC8v0LXRgdC70Lgg0YLQtdC60YHRgiDQvtC/0YbQuNC4INC4INGC0LXQutGB0YIg0LLRi9Cx0YDQsNC90L3QvtCz0L4g0LLQsNGA0LjQsNC90YLQsCDRgdC+0LLQv9Cw0LTQsNGO0YJcbiAgICAgICAgICAkdGhpcy5maW5kKCc6c2VsZWN0ZWQnKS50ZXh0KCkudHJpbSgpID09IHRleHQudHJpbSgpKSB7XG4gICAgICAgICAgICAkdGhpcy52YWwoJycpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgJCgnLmpzLXNlbGVjdCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe1xuICAgICAgICBwbGFjZWhvbGRlcjoge1xuICAgICAgICAgIGlkOiAnLTEnLFxuICAgICAgICAgIC8vIHRoZSB2YWx1ZSBvZiB0aGUgb3B0aW9uXG4gICAgICAgICAgdGV4dDogJHRoaXMuZGF0YSgncGxhY2Vob2xkZXInKVxuICAgICAgICB9XG4gICAgICB9LCBiYXNlX29wdGlvbnMpO1xuICAgICAgJHRoaXMuc2VsZWN0MihvcHRpb25zKS52YWwoJycpLnNlbGVjdDIob3B0aW9ucyk7XG4gICAgICAkdGhpcy5vbignc2VsZWN0MjpvcGVuJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB1bnNldFZhbHVlKCR0aGlzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgICQoJy5qcy1zZWxlY3QtcmVkJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7XG4gICAgICAgIHRoZW1lOiAncmVkJyxcbiAgICAgICAgcGxhY2Vob2xkZXI6IHtcbiAgICAgICAgICBpZDogJy0xJyxcbiAgICAgICAgICAvLyB0aGUgdmFsdWUgb2YgdGhlIG9wdGlvblxuICAgICAgICAgIHRleHQ6ICR0aGlzLmRhdGEoJ3BsYWNlaG9sZGVyJylcbiAgICAgICAgfVxuICAgICAgfSwgYmFzZV9vcHRpb25zKTtcbiAgICAgICR0aGlzLnNlbGVjdDIob3B0aW9ucykudmFsKCcnKS5zZWxlY3QyKG9wdGlvbnMpO1xuICAgICAgJHRoaXMub24oJ3NlbGVjdDI6b3BlbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdW5zZXRWYWx1ZSgkdGhpcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICAkKCcuanMtc2VsZWN0LWJsdWUnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHtcbiAgICAgICAgdGhlbWU6ICdibHVlJyxcbiAgICAgICAgcGxhY2Vob2xkZXI6IHtcbiAgICAgICAgICBpZDogJy0xJyxcbiAgICAgICAgICAvLyB0aGUgdmFsdWUgb2YgdGhlIG9wdGlvblxuICAgICAgICAgIHRleHQ6ICR0aGlzLmRhdGEoJ3BsYWNlaG9sZGVyJylcbiAgICAgICAgfVxuICAgICAgfSwgYmFzZV9vcHRpb25zKTtcbiAgICAgICR0aGlzLnNlbGVjdDIob3B0aW9ucykudmFsKCcnKS5zZWxlY3QyKG9wdGlvbnMpO1xuICAgICAgJHRoaXMub24oJ3NlbGVjdDI6b3BlbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdW5zZXRWYWx1ZSgkdGhpcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICAkKCcuanMtc2VsZWN0LWZvcm0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHtcbiAgICAgICAgdGhlbWU6ICdmb3JtJyxcbiAgICAgICAgcGxhY2Vob2xkZXI6IHtcbiAgICAgICAgICBpZDogJy0xJyxcbiAgICAgICAgICAvLyB0aGUgdmFsdWUgb2YgdGhlIG9wdGlvblxuICAgICAgICAgIHRleHQ6ICR0aGlzLmRhdGEoJ3BsYWNlaG9sZGVyJylcbiAgICAgICAgfVxuICAgICAgfSwgYmFzZV9vcHRpb25zKTtcbiAgICAgICR0aGlzLnNlbGVjdDIob3B0aW9ucykudmFsKCcnKS5zZWxlY3QyKG9wdGlvbnMpO1xuICAgICAgJHRoaXMub24oJ3NlbGVjdDI6b3BlbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdW5zZXRWYWx1ZSgkdGhpcyk7XG4gICAgICB9KTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAkdGhpcy5zaWJsaW5ncygnLnNlbGVjdDInKS5hZnRlcigkdGhpcy5jc3Moe1xuICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgaGVpZ2h0OiAwXG4gICAgICAgIH0pLnNob3coKSk7XG4gICAgICB9KTtcbiAgICB9KTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHZhcnMtb24tdG9wXG4gICAgLy8gdmFyIGluc3RhbmNlO1xuICAgIC8vICQoZG9jdW1lbnQpLm9uKCdrZXl1cCcsICcuc2VsZWN0Mi1zZWFyY2hfX2ZpZWxkJywgZnVuY3Rpb24gKCkge1xuICAgIC8vICAgICBjdXN0b21pemVEcm9wZG93blNjcm9sbGJhcigpO1xuICAgIC8vIH0pO1xuICAgIC8vICQoJy5qcy1zZWxlY3QnKS5vbignc2VsZWN0MjpvcGVuJywgZnVuY3Rpb24gKCkge1xuICAgIC8vICAgICBjdXN0b21pemVEcm9wZG93blNjcm9sbGJhcigpO1xuICAgIC8vIH0pO1xuICAgIC8vIGZ1bmN0aW9uIGN1c3RvbWl6ZURyb3Bkb3duU2Nyb2xsYmFyKCkge1xuICAgIC8vICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAvLyAgICAgICAgIHZhciBjb3VudCA9ICQoJy5zZWxlY3QyLXJlc3VsdHNfX29wdGlvbnMnKS5maW5kKCdsaScpLmxlbmd0aDtcbiAgICAvLyAgICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UgIT09ICd1bmRlZmluZWQnICYmIGNvdW50ID4gMSkge1xuICAgIC8vICAgICAgICAgICAgIGluc3RhbmNlLmRlc3Ryb3koKTtcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIGlmIChjb3VudCA+IDEpIHtcbiAgICAvLyAgICAgICAgICAgICBpbnN0YW5jZSA9ICQoJy5zZWxlY3QyLXJlc3VsdHNfX29wdGlvbnMnKS5vdmVybGF5U2Nyb2xsYmFycyh7fSkub3ZlcmxheVNjcm9sbGJhcnMoKTtcbiAgICAvLyAgICAgICAgIH0gZWxzZSB7XG4gICAgLy8gICAgICAgICAgICAgJCgnLnNlbGVjdDItZHJvcGRvd24gc2VsZWN0Mi1kcm9wZG93bi0tYmVsb3cnKS5vdmVybGF5U2Nyb2xsYmFycyh7fSkub3ZlcmxheVNjcm9sbGJhcnMoKTtcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfSwgMCk7XG4gICAgLy8gfVxuXG4gICAgO1xuICAgICQoJy5qcy1idXJnZXInKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICQoJy5qcy13cmFwLWJ1cmdlcicpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgaWYgKCQoJy5qcy1idXJnZXInKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcbiAgICAgICAgJCgnLmItcGFnZS13cmFwcGVyJykuYWRkQ2xhc3MoJ2lzLWxvY2tlZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJCgnLmItcGFnZS13cmFwcGVyJykucmVtb3ZlQ2xhc3MoJ2lzLWxvY2tlZCcpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIDtcbiAgICAkKCcuanMtc2VhcmNoJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKCcuanMtc2VhcmNoLWZvcm0nKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gICAgfSk7XG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoISQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KCcuYi1zZWFyY2gnKS5sZW5ndGgpIHtcbiAgICAgICAgJCgnYm9keScpLmZpbmQoJy5qcy1zZWFyY2gnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICQoJ2JvZHknKS5maW5kKCcuanMtc2VhcmNoLWZvcm0nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgO1xuXG4gICAgdmFyIG1hdGNoZWRUYWIgPSBmdW5jdGlvbiBtYXRjaGVkVGFiKCkge1xuICAgICAgdmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaC5zcGxpdCgnIyMnKS5qb2luKCcjJyk7XG4gICAgICByZXR1cm4gJCgnYVtocmVmPVwiJyArIGhhc2ggKyAnXCJdJyk7XG4gICAgfTtcblxuICAgIHZhciBpbmRleCA9ICQoJy5qcy10YWJzIGEnKS5pbmRleChtYXRjaGVkVGFiKCkpO1xuICAgICQoJy5qcy10YWJzJykudGFicyh7XG4gICAgICBhY3RpdmU6IGluZGV4ID4gLTEgPyBpbmRleCA6IDAsXG4gICAgICBoaWRlOiB7XG4gICAgICAgIGVmZmVjdDogJ2ZhZGVPdXQnLFxuICAgICAgICBkdXJhdGlvbjogNTAwXG4gICAgICB9LFxuICAgICAgc2hvdzoge1xuICAgICAgICBlZmZlY3Q6ICdmYWRlSW4nLFxuICAgICAgICBkdXJhdGlvbjogNTAwXG4gICAgICB9LFxuICAgICAgYmVmb3JlQWN0aXZhdGU6IGZ1bmN0aW9uIGJlZm9yZUFjdGl2YXRlKGUpIHtcbiAgICAgICAgdmFyICR0YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgICAgIHZhciAkdGFiID0gbWF0Y2hlZFRhYigpO1xuICAgICAgICAkKCcuYi1wYWdlLXdyYXBwZXInKS5zY3JvbGxUb3AoMCk7XG4gICAgICAgIHZhciBocmVmID0gJHRhcmdldC5hdHRyKCdocmVmJykuc3BsaXQoJyMnKVsxXTtcbiAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sICcnLCAnIycgKyBocmVmKTtcbiAgICAgICAgJCgnLmItcGFnZS13cmFwcGVyJykuc2Nyb2xsVG9wKDApO1xuICAgICAgfSxcbiAgICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNwbGl0KCcjIycpLmpvaW4oJyMnKTtcbiAgICAgICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZSh7fSwgJycsIGhhc2gpO1xuICAgICAgICB9LCAwKTtcbiAgICAgICAgJCgnLmItcGFnZS13cmFwcGVyJykuc2Nyb2xsVG9wKDApO1xuICAgICAgfVxuICAgIH0pO1xuICAgICQod2luZG93KS5vbignaGFzaGNoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBpbmRleCA9ICQoJyN0YWJzIGEnKS5pbmRleChtYXRjaGVkVGFiKCkpO1xuICAgICAgJCgnLmpzLXRhYnMnKS50YWJzKFwib3B0aW9uXCIsICdhY3RpdmUnLCBpbmRleCk7XG4gICAgfSk7XG4gICAgO1xuXG4gICAgZnVuY3Rpb24gc2V0Q29va2llKG5hbWUsIHZhbHVlLCBkYXlzKSB7XG4gICAgICB2YXIgZXhwaXJlcyA9ICcnO1xuXG4gICAgICBpZiAoZGF5cykge1xuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSArIGRheXMgKiAyNCAqIDYwICogNjAgKiAxMDAwKTtcbiAgICAgICAgZXhwaXJlcyA9ICc7IGV4cGlyZXM9JyArIGRhdGUudG9VVENTdHJpbmcoKTtcbiAgICAgIH1cblxuICAgICAgZG9jdW1lbnQuY29va2llID0gbmFtZSArICc9JyArICh2YWx1ZSB8fCAnJykgKyBleHBpcmVzICsgJzsgcGF0aD0vJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRDb29raWUobmFtZSkge1xuICAgICAgdmFyIG5hbWVFUSA9IG5hbWUgKyAnPSc7XG4gICAgICB2YXIgY2EgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgYyA9IGNhW2ldO1xuXG4gICAgICAgIHdoaWxlIChjLmNoYXJBdCgwKSA9PSAnICcpIHtcbiAgICAgICAgICBjID0gYy5zdWJzdHJpbmcoMSwgYy5sZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMuaW5kZXhPZihuYW1lRVEpID09IDApIHtcbiAgICAgICAgICByZXR1cm4gYy5zdWJzdHJpbmcobmFtZUVRLmxlbmd0aCwgYy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGVyYXNlQ29va2llKG5hbWUpIHtcbiAgICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyAnPTsgUGF0aD0vOyBFeHBpcmVzPVRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDEgR01UOyc7XG4gICAgfVxuXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGFwcHJvdmUgPSBnZXRDb29raWUoJ2FwcHJvdmUnKTtcblxuICAgICAgaWYgKCFhcHByb3ZlKSB7XG4gICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnY29va2llJyk7XG4gICAgICB9XG5cbiAgICAgICQoJy5qcy1hcHByb3ZlLWNvb2tpZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdjb29raWUnKTtcbiAgICAgICAgc2V0Q29va2llKCdhcHByb3ZlJywgJ1knLCAzNjUpO1xuICAgICAgfSk7XG4gICAgICAkKCcuanMtcmVqZWN0LWNvb2tpZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdjb29raWUnKTsgLy9zZXRDb29raWUoJ2FwcHJvdmUnLCAnTicpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgO1xuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgIG9iamVjdEZpdEltYWdlcygpO1xuICAgIH0pO1xuICAgIDsgLy8gJCgnI2RhdGVwaWNrZXInKS5kYXRlcGlja2VyKCk7XG5cbiAgICAkKCcuanMtZGF0ZXBpY2tlcicpLmRhdGVwaWNrZXIoe1xuICAgICAgaW5saW5lOiB0cnVlLFxuICAgICAgZmlyc3REYXk6IDEsXG4gICAgICBhdXRvU2l6ZTogdHJ1ZSxcbiAgICAgIGRhdGVGb3JtYXQ6ICdkL00veXknLFxuICAgICAgbW9udGhOYW1lczogWyfQr9C90LLQsNGA0YwnLCAn0KTQtdCy0YDQsNC70YwnLCAn0JzQsNGA0YInLCAn0JDQv9GA0LXQu9GMJywgJ9Cc0LDQuScsICfQmNGO0L3RjCcsICfQmNGO0LvRjCcsICfQkNCy0LPRg9GB0YInLCAn0KHQtdC90YLRj9Cx0YDRjCcsICfQntC60YLRj9Cx0YDRjCcsICfQndC+0Y/QsdGA0YwnLCAn0JTQtdC60LDQsdGA0YwnXSxcbiAgICAgIC8vIG1vbnRoTmFtZXM6IFsn0K/QvdCy0LDRgNGPJywn0KTQtdCy0YDQsNC70Y8nLCfQnNCw0YDRgtCwJywn0JDQv9GA0LXQu9GPJywn0JzQsNGPJywn0JjRjtC90Y8nLCfQmNGO0LvRjycsJ9CQ0LLQs9GD0YHRgtCwJywn0KHQtdC90YLRj9Cx0YDRjycsJ9Ce0LrRgtGP0LHRgNGPJywn0J3QvtGP0LHRgNGPJywn0JTQtdC60LDQsdGA0Y8nXSxcbiAgICAgIG1vbnRoTmFtZXNTaG9ydDogWyfQr9C90LLQsNGA0YwnLCAn0KTQtdCy0YDQsNC70YwnLCAn0JzQsNGA0YInLCAn0JDQv9GA0LXQu9GMJywgJ9Cc0LDQuScsICfQmNGO0L3RjCcsICfQmNGO0LvRjCcsICfQkNCy0LPRg9GB0YInLCAn0KHQtdC90YLRj9Cx0YDRjCcsICfQntC60YLRj9Cx0YDRjCcsICfQndC+0Y/QsdGA0YwnLCAn0JTQtdC60LDQsdGA0YwnXSxcbiAgICAgIG9uU2VsZWN0OiBmdW5jdGlvbiBvblNlbGVjdChkYXRlVGV4dCwgaW5zdCkge1xuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICB2YXIgbW9udGhOYW1lcyA9IFsn0K/QvdCy0LDRgNGPJywgJ9Ck0LXQstGA0LDQu9GPJywgJ9Cc0LDRgNGC0LAnLCAn0JDQv9GA0LXQu9GPJywgJ9Cc0LDRjycsICfQmNGO0L3RjycsICfQmNGO0LvRjycsICfQkNCy0LPRg9GB0YLQsCcsICfQodC10L3RgtGP0LHRgNGPJywgJ9Ce0LrRgtGP0LHRgNGPJywgJ9Cd0L7Rj9Cx0YDRjycsICfQlNC10LrQsNCx0YDRjyddO1xuICAgICAgICB2YXIgY3VycmVudERheSA9IGluc3QuY3VycmVudERheTtcbiAgICAgICAgdmFyIGN1cnJlbnRNb250aCA9IGluc3QuY3VycmVudE1vbnRoO1xuICAgICAgICB2YXIgY3VycmVudFllYXIgPSBpbnN0LmN1cnJlbnRZZWFyO1xuICAgICAgICB2YXIgdmFsdWUgPSBjdXJyZW50RGF5ICsgJy8nICsgbW9udGhOYW1lc1tjdXJyZW50TW9udGhdICsgJy8nICsgY3VycmVudFllYXI7XG4gICAgICAgIHZhciBldmVudCA9ICR0aGlzLmRhdGEoJ2V2ZW50Jyk7XG4gICAgICAgIHZhciB1cmwgPSAkdGhpcy5kYXRhKCd1cmwnKTtcbiAgICAgICAgdmFyIGZpbHRlciA9ICQoJHRoaXMuZGF0YSgnZmlsdGVyJykpLnZhbCgpO1xuICAgICAgICAkdGhpcy52YWwodmFsdWUpO1xuXG4gICAgICAgIGlmIChldmVudCkge1xuICAgICAgICAgICQoJ2JvZHknKS50cmlnZ2VyKGV2ZW50LCB7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIGZpbHRlcjogZmlsdGVyXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBiZWZvcmVTaG93OiBmdW5jdGlvbiBiZWZvcmVTaG93KGlucHV0KSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIC8v0LLRi9GA0LDQstC90LjQstCw0LXQvCDQutCw0LvQtdC90LTQsNGA0LjQulxuICAgICAgICAgICQoJyN1aS1kYXRlcGlja2VyLWRpdicpLmNzcyh7XG4gICAgICAgICAgICBsZWZ0OiAkKGlucHV0KS5vZmZzZXQoKS5sZWZ0ICsgJChpbnB1dCkud2lkdGgoKSAtICQoJyN1aS1kYXRlcGlja2VyLWRpdicpWzBdLmNsaWVudFdpZHRoXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIDtcbiAgICB2YXIgYWRhcHRpdmVTZWxlY3RQb3N0ZXI7XG5cbiAgICBpZiAoJCgnLmpzLXNlbGVjdC1wb3N0ZXInKS5sZW5ndGgpIHtcbiAgICAgIHZhciBzZWxlY3RQb3N0ZXIgPSAkKCcuanMtc2VsZWN0LXBvc3RlcicpO1xuICAgICAgdmFyIG1vYmlsZVBvc3RlciA9ICQoJy5qcy1wb3N0ZXItbW9iaWxlJyk7XG4gICAgICB2YXIgZGVza3RvcFBvc3RlciA9ICQoJy5qcy1wb3N0ZXItZGVza3RvcCcpO1xuXG4gICAgICBhZGFwdGl2ZVNlbGVjdFBvc3RlciA9IGZ1bmN0aW9uIGFkYXB0aXZlU2VsZWN0UG9zdGVyKCkge1xuICAgICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPj0gMzIwICYmIHdpbmRvdy5pbm5lcldpZHRoIDwgODM0KSB7XG4gICAgICAgICAgbW9iaWxlUG9zdGVyLmFwcGVuZChzZWxlY3RQb3N0ZXIpO1xuICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5pbm5lcldpZHRoID49IDgzNCkge1xuICAgICAgICAgIGRlc2t0b3BQb3N0ZXIuYXBwZW5kKHNlbGVjdFBvc3Rlcik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFkYXB0aXZlU2VsZWN0UG9zdGVyKCk7XG4gICAgICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCQoJy5qcy1zZWxlY3QtcG9zdGVyJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGFkYXB0aXZlU2VsZWN0UG9zdGVyKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIDtcblxuICAgIHZhciBpbml0U2xpZGVyUG9zdGVyID0gZnVuY3Rpb24gaW5pdFNsaWRlclBvc3RlcigpIHtcbiAgICAgIHZhciBfU3dpcGVyO1xuXG4gICAgICB2YXIgc3dpcGVyID0gbmV3IFN3aXBlcignLmpzLXNsaWRlci1wb3N0ZXInLCAoX1N3aXBlciA9IHtcbiAgICAgICAgc3BlZWQ6IDUwMCxcbiAgICAgICAgc2xpZGVzUGVyVmlldzogMlxuICAgICAgfSwgX2RlZmluZVByb3BlcnR5KF9Td2lwZXIsIFwic2xpZGVzUGVyVmlld1wiLCAnYXV0bycpLCBfZGVmaW5lUHJvcGVydHkoX1N3aXBlciwgXCJuYXZpZ2F0aW9uXCIsIHtcbiAgICAgICAgbmV4dEVsOiAnLmItcG9zdGVyIC5zd2lwZXItYnV0dG9uLW5leHQnLFxuICAgICAgICBwcmV2RWw6ICcuYi1wb3N0ZXIgLnN3aXBlci1idXR0b24tcHJldidcbiAgICAgIH0pLCBfU3dpcGVyKSk7XG4gICAgICB3aW5kb3cuc2xpZGVyUG9zdGVySW5zdGFuc2UgPSBzd2lwZXI7XG4gICAgfTtcblxuICAgIGluaXRTbGlkZXJQb3N0ZXIoKTtcbiAgICAkKCdib2R5Jykub24oJ2luaXRTbGlkZXJQb3N0ZXInLCBpbml0U2xpZGVyUG9zdGVyKTtcbiAgICA7XG4gICAgLyogZXNsaW50LWRpc2FibGUgdmFycy1vbi10b3AgKi9cbiAgICAvLyB2YXIgc3dpcGVyID0gbmV3IFN3aXBlcignLmpzLXNsaWRlcicsIHtcbiAgICAvLyAgICAgc2xpZGVzUGVyVmlldzogMixcbiAgICAvLyAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxuICAgIC8vICAgICB3YXRjaE92ZXJmbG93OiB0cnVlLFxuICAgIC8vICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgLy8gICAgICAgICBuZXh0RWw6ICcuYi1zbGlkZXIgLnN3aXBlci1idXR0b24tbmV4dCcsXG4gICAgLy8gICAgICAgICBwcmV2RWw6ICcuYi1zbGlkZXIgLnN3aXBlci1idXR0b24tcHJldicsXG4gICAgLy8gICAgIH0sXG4gICAgLy8gfSk7XG5cbiAgICAkKCcuanMtc2xpZGVyJykuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHtcbiAgICAgIHZhciBfU3dpcGVyMjtcblxuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICR0aGlzLmFkZENsYXNzKCdqcy1zbGlkZXItJyArIGluZGV4KTtcbiAgICAgICR0aGlzLnBhcmVudHMoJy5iLXNsaWRlcicpLmZpbmQoJy5zd2lwZXItYnV0dG9uLXByZXYnKS5hZGRDbGFzcygnc3dpcGVyLWJ1dHRvbi1uZXh0JyArIGluZGV4KTtcbiAgICAgICR0aGlzLnBhcmVudHMoJy5iLXNsaWRlcicpLmZpbmQoJy5zd2lwZXItYnV0dG9uLW5leHQnKS5hZGRDbGFzcygnc3dpcGVyLWJ1dHRvbi1wcmV2JyArIGluZGV4KTtcbiAgICAgIHZhciBzd2lwZXIgPSBuZXcgU3dpcGVyKCcuanMtc2xpZGVyLScgKyBpbmRleCwgKF9Td2lwZXIyID0ge1xuICAgICAgICBzbGlkZXNQZXJWaWV3OiAyXG4gICAgICB9LCBfZGVmaW5lUHJvcGVydHkoX1N3aXBlcjIsIFwic2xpZGVzUGVyVmlld1wiLCAnYXV0bycpLCBfZGVmaW5lUHJvcGVydHkoX1N3aXBlcjIsIFwid2F0Y2hPdmVyZmxvd1wiLCB0cnVlKSwgX2RlZmluZVByb3BlcnR5KF9Td2lwZXIyLCBcIm5hdmlnYXRpb25cIiwge1xuICAgICAgICAvLyDQvdC1INGB0L/RgNCw0YjQuNCy0LDQudGC0LUg0L/QvtGH0LXQvNGDLi4uXG4gICAgICAgIHByZXZFbDogJy5zd2lwZXItYnV0dG9uLW5leHQnICsgaW5kZXgsXG4gICAgICAgIG5leHRFbDogJy5zd2lwZXItYnV0dG9uLXByZXYnICsgaW5kZXhcbiAgICAgIH0pLCBfU3dpcGVyMikpO1xuICAgIH0pO1xuICAgIDtcblxuICAgIGlmICgkKCcuanMtcGFyYWxsYXgtcmlnaHQnKS5sZW5ndGgpIHtcbiAgICAgIHZhciB3cmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5iLXBhZ2Utd3JhcHBlclwiKTsgLy8gbGV0IGJhY2tncm91bmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmpzLXBhcmFsbGF4LXJpZ2h0XCIpO1xuICAgICAgLy8gbGV0IHBlcnNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuanMtcGFyYWxsYXgtbGVmdFwiKTtcblxuICAgICAgdmFyIG1vdW50YWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5iLWZpcnN0LWJsb2NrLXNwcmVhZGluZ19fcGljdHVyZS0tbGVmdFwiKTtcbiAgICAgIHZhciBzbW9rZTEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmItZmlyc3QtYmxvY2stc3ByZWFkaW5nX19waWN0dXJlLS1yaWdodC1maXJzdFwiKTtcbiAgICAgIHZhciBzbW9rZTIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmItZmlyc3QtYmxvY2stc3ByZWFkaW5nX19waWN0dXJlLS1yaWdodC1zZWNvbmRcIik7XG4gICAgICB2YXIgY292ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmItZmlyc3QtYmxvY2stc3ByZWFkaW5nX19waWN0dXJlLS1yaWdodC10aGlyZFwiKTtcbiAgICAgIHZhciBsb2dvMSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYi1maXJzdC1ibG9jay1zcHJlYWRpbmdfX2ltYWdlLXRlYXRyXCIpO1xuICAgICAgdmFyIGxvZ28yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5iLWZpcnN0LWJsb2NrLXNwcmVhZGluZ19fdGV4dFwiKTsgLy8gY29uc3Qgd3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYi1wYWdlLXdyYXBwZXJcIik7XG5cbiAgICAgIHZhciBzY3JvbGxIYW5kbGUgPSBmdW5jdGlvbiBzY3JvbGxIYW5kbGUoZSkge1xuICAgICAgICB2YXIgc2Nyb2xsID0gd3JhcC5zY3JvbGxUb3A7IC8vIGJhY2tncm91bmQuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKDAsIC0ke3Njcm9sbCAqIDAuMX1weCwgMClgO1xuXG4gICAgICAgIG1vdW50YWluLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlM2QoMCwgLVwiLmNvbmNhdChzY3JvbGwgKiAwLjI3NSwgXCJweCwgMClcIik7XG4gICAgICAgIHNtb2tlMS5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZTNkKDAsIC1cIi5jb25jYXQoc2Nyb2xsICogMC4zLCBcInB4LCAwKVwiKTtcbiAgICAgICAgc21va2UyLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlM2QoMCwgLVwiLmNvbmNhdChzY3JvbGwgKiAwLjI1LCBcInB4LCAwKVwiKTsgLy8gcGVyc29uLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgwLCAtJHtzY3JvbGwgKiAwLjF9cHgsIDApYDtcblxuICAgICAgICBjb3Zlci5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZTNkKDAsIC1cIi5jb25jYXQoc2Nyb2xsICogMC4yLCBcInB4LCAwKVwiKTtcbiAgICAgICAgbG9nbzEuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUzZCgwLCBcIi5jb25jYXQoc2Nyb2xsICogMC4xNzUsIFwicHgsIDApXCIpO1xuICAgICAgICBsb2dvMi5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZTNkKDAsIFwiLmNvbmNhdChzY3JvbGwgKiAwLjE3NSwgXCJweCwgMCkgdHJhbnNsYXRlWSgtNTAlKVwiKTtcbiAgICAgIH07XG5cbiAgICAgIHdyYXAuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBzY3JvbGxIYW5kbGUpO1xuICAgIH1cblxuICAgIDtcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHNjcm9sbFRvID0gJCgnLmpzLWFuY2hvcicpOyAvLyBsZXQgaGVhZGVyID0gJCgnLmItaGVhZGVyJylbMF0uY2xpZW50SGVpZ2h0O1xuXG4gICAgICBpZiAoJHNjcm9sbFRvLmxlbmd0aCkge1xuICAgICAgICAkc2Nyb2xsVG8ub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICB2YXIgdGFyZ2V0ID0gJCh0aGlzKS5kYXRhKCd0YXJnZXQnKTtcbiAgICAgICAgICB2YXIgJHRhcmdldCA9ICQodGFyZ2V0KTtcblxuICAgICAgICAgIGlmICgkdGFyZ2V0Lmxlbmd0aCkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgJCgnLmItcGFnZS13cmFwcGVyJykuc2Nyb2xsVG8odGFyZ2V0LCA1MDAsIHtcbiAgICAgICAgICAgICAgLy8gb2Zmc2V0OiAtaGVhZGVyLFxuICAgICAgICAgICAgICBvbkFmdGVyOiBmdW5jdGlvbiBvbkFmdGVyKCkge1xuICAgICAgICAgICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCAnJywgdGFyZ2V0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTsgLy8gbGV0IGhhc2ggPSBsb2NhdGlvbi5oYXNoO1xuICAgICAgICAvLyBsZXQgJHRhcmdldCA9ICQoaGFzaCk7XG4gICAgICAgIC8vIGlmIChoYXNoLmxlbmd0aCApIHtcbiAgICAgICAgLy8gICAgICQoJy5iLXBhZ2Utd3JhcHBlcicpLnNjcm9sbFRvKCR0YXJnZXQsIDUwMCwge1xuICAgICAgICAvLyAgICAgICAgIG9mZnNldDogLWhlYWRlclxuICAgICAgICAvLyAgICAgfSk7XG4gICAgICAgIC8vIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICA7XG4gICAgJCgnI21hcCcpLmxlbmd0aCAmJiB5bWFwcy5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbXlNYXAgPSBuZXcgeW1hcHMuTWFwKCdtYXAnLCB7XG4gICAgICAgIGNlbnRlcjogWzU1LjcxOTUzMSwgMzcuNjI3MDIyXSxcbiAgICAgICAgem9vbTogMTNcbiAgICAgIH0pLFxuICAgICAgICAgIG15UGxhY2VtYXJrID0gbmV3IHltYXBzLlBsYWNlbWFyayhteU1hcC5nZXRDZW50ZXIoKSwge30sIHtcbiAgICAgICAgcHJlc2V0OiAnaXNsYW5kcyNibHVlVGhlYXRlckljb24nXG4gICAgICB9KTtcbiAgICAgIG15TWFwLmdlb09iamVjdHMuYWRkKG15UGxhY2VtYXJrKTtcbiAgICB9KTtcbiAgICA7XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8taW5uZXItZGVjbGFyYXRpb25zICovXG5cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSB2YXJzLW9uLXRvcCAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbm5lci1kZWNsYXJhdGlvbnNcblxuICAgIGlmICgkKCcuYi1maXJzdC1ibG9jay10ZHQnKS5sZW5ndGgpIHtcbiAgICAgIHZhciBzd2lwZXIgPSBuZXcgU3dpcGVyKCcuanMtbWFpbi1zbGlkZXInLCB7XG4gICAgICAgIGxvb3A6IHRydWUsXG4gICAgICAgIGVmZmVjdDogJ2ZhZGUnLFxuICAgICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgICAgZWw6ICcuYi1maXJzdC1ibG9jay10ZHQgLnN3aXBlci1wYWdpbmF0aW9uJyxcbiAgICAgICAgICBjbGlja2FibGU6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgbmF2aWdhdGlvbjoge1xuICAgICAgICAgIG5leHRFbDogJy5iLWZpcnN0LWJsb2NrLXRkdCAuc3dpcGVyLWJ1dHRvbi1uZXh0JyxcbiAgICAgICAgICBwcmV2RWw6ICcuYi1maXJzdC1ibG9jay10ZHQgLnN3aXBlci1idXR0b24tcHJldidcbiAgICAgICAgfVxuICAgICAgfSk7IC8vIGNvbnN0IHdyYXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmItcGFnZS13cmFwcGVyXCIpO1xuICAgICAgLy8gbGV0IHZpZGVvVCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYi1maXJzdC1ibG9jay10ZHRfX2ltYWdlXCIpO1xuICAgICAgLy8gY29uc3Qgc2Nyb2xsSGFuZGxlID0gKGUpID0+IHtcbiAgICAgIC8vICAgICBsZXQgc2Nyb2xsID0gd3JhcC5zY3JvbGxUb3A7XG4gICAgICAvLyAgICAgdmlkZW9ULnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgwLCAke3Njcm9sbCAqIDAuMX1weCwgMClgO1xuICAgICAgLy8gfTtcbiAgICAgIC8vIHdyYXAuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBzY3JvbGxIYW5kbGUpO1xuICAgIH1cblxuICAgIDtcbiAgICB2YXIgc3dpcGVyID0gbmV3IFN3aXBlcignLmpzLXJldmlld3Mtc2xpZGVyJywge1xuICAgICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgZWw6ICcuYi1yZXZpZXdzLXNsaWRlciAuc3dpcGVyLXBhZ2luYXRpb24nLFxuICAgICAgICBjbGlja2FibGU6IHRydWVcbiAgICAgIH0sXG4gICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgIG5leHRFbDogJy5iLXJldmlld3Mtc2xpZGVyIC5zd2lwZXItYnV0dG9uLW5leHQnLFxuICAgICAgICBwcmV2RWw6ICcuYi1yZXZpZXdzLXNsaWRlciAuc3dpcGVyLWJ1dHRvbi1wcmV2J1xuICAgICAgfVxuICAgIH0pO1xuICAgIDtcblxuICAgIGlmICgkKCcuanMtdXAtYnV0dG9uJykubGVuZ3RoKSB7XG4gICAgICB2YXIgY2hlY2tTY3JvbGwgPSBmdW5jdGlvbiBjaGVja1Njcm9sbCgpIHtcbiAgICAgICAgLy8gY29uc3QgZGlzdGFuY2VGcm9tQm90dG9tID0gTWF0aC5mbG9vcigkKGRvY3VtZW50KS5oZWlnaHQoKSAtICQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpIC0gJHdyYXAuaGVpZ2h0KCkgLSA1MCk7XG4gICAgICAgIHZhciB3cmFwID0gJHdyYXBbMF07XG4gICAgICAgIHZhciBmb290ZXJIZWlnaHQgPSBmb290ZXIubGVuZ3RoID8gZm9vdGVyWzBdLm9mZnNldEhlaWdodCA6IDA7XG4gICAgICAgIHZhciBzdG9wUG9zaXRpb24gPSB3cmFwLnNjcm9sbEhlaWdodCAtIGZvb3RlckhlaWdodCAtIHdyYXAuY2xpZW50SGVpZ2h0OyAvLyBjb25zb2xlLmRpcih3cmFwKVxuXG4gICAgICAgIGlmICgkd3JhcC5zY3JvbGxUb3AoKSA+IDMwMCkge1xuICAgICAgICAgIGJ0bi5hZGRDbGFzcygnc2hvdycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJ0bi5yZW1vdmVDbGFzcygnc2hvdycpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdyYXAuc2Nyb2xsVG9wID49IHN0b3BQb3NpdGlvbikge1xuICAgICAgICAgIGJ0bi5hZGRDbGFzcygnc3RvcCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJ0bi5yZW1vdmVDbGFzcygnc3RvcCcpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgYnRuID0gJCgnLmpzLXVwLWJ1dHRvbicpO1xuICAgICAgdmFyIGZvb3RlciA9ICQoJy5iLWZvb3RlcicpO1xuICAgICAgdmFyICR3cmFwID0gJCgnLmItcGFnZS13cmFwcGVyJyk7XG4gICAgICBidG4ub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkKCcuYi1wYWdlLXdyYXBwZXInKS5hbmltYXRlKHtcbiAgICAgICAgICBzY3JvbGxUb3A6IDBcbiAgICAgICAgfSwgJzMwMCcpO1xuICAgICAgfSk7XG4gICAgICAkd3JhcC5vbignc2Nyb2xsJywgY2hlY2tTY3JvbGwpO1xuICAgIH1cblxuICAgIDtcblxuICAgIGlmICgkKCcuYi1yZXZpZXdzX19jYXJkJykubGVuZ3RoKSB7XG4gICAgICB2YXIgJGNsaWNrID0gJCgnLmpzLWNsaWNrLXNob3cnKTtcbiAgICAgIHZhciAkdGV4dCA9ICQoJy5qcy1oaWRlLXRleHQnKTtcbiAgICAgICR0ZXh0LmNzcyh7XG4gICAgICAgICdtYXgtaGVpZ2h0JzogJzEwMCUnXG4gICAgICB9KTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAkdGV4dC5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICAgICR0aGlzLmF0dHIoJ2RhdGEtaGVpZ2h0JywgJHRoaXMuaGVpZ2h0KCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgJHRleHQuY3NzKHtcbiAgICAgICAgICAnbWF4LWhlaWdodCc6ICcnXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICAkY2xpY2sub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICB2YXIgaGlkZSA9ICR0aGlzLnBhcmVudCgnLmFjdGl2ZScpLmxlbmd0aDtcbiAgICAgICAgdmFyICR0ZXh0ID0gJHRoaXMuc2libGluZ3MoJy5qcy1oaWRlLXRleHQnKTtcbiAgICAgICAgdmFyICRjYXJkID0gJHRoaXMucGFyZW50KCcuYi1yZXZpZXdzX19jYXJkJyk7XG5cbiAgICAgICAgaWYgKGhpZGUpIHtcbiAgICAgICAgICAkY2FyZC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgJHRleHQuYW5pbWF0ZSh7XG4gICAgICAgICAgICBoZWlnaHQ6IDE0MFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRjYXJkLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAkdGV4dC5hbmltYXRlKHtcbiAgICAgICAgICAgIGhlaWdodDogJHRleHQuYXR0cignZGF0YS1oZWlnaHQnKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICA7XG4gICAgdmFyIHN3aXBlciA9IG5ldyBTd2lwZXIoJy5qcy1hcmNoaXZlLXNsaWRlcicsIChfU3dpcGVyMyA9IHtcbiAgICAgIHNwZWVkOiA1MDAsXG4gICAgICBzbGlkZXNQZXJWaWV3OiAyXG4gICAgfSwgX2RlZmluZVByb3BlcnR5KF9Td2lwZXIzLCBcInNsaWRlc1BlclZpZXdcIiwgJ2F1dG8nKSwgX2RlZmluZVByb3BlcnR5KF9Td2lwZXIzLCBcInBhZ2luYXRpb25cIiwge1xuICAgICAgZWw6ICcuYi1hcmNoaXZlLXNsaWRlciAuc3dpcGVyLXBhZ2luYXRpb24nLFxuICAgICAgY2xpY2thYmxlOiB0cnVlXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfU3dpcGVyMywgXCJuYXZpZ2F0aW9uXCIsIHtcbiAgICAgIG5leHRFbDogJy5iLWFyY2hpdmUtc2xpZGVyIC5zd2lwZXItYnV0dG9uLW5leHQnLFxuICAgICAgcHJldkVsOiAnLmItYXJjaGl2ZS1zbGlkZXIgLnN3aXBlci1idXR0b24tcHJldidcbiAgICB9KSwgX1N3aXBlcjMpKTtcbiAgICA7XG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuICAgICAgJCgnLmpzLWFjY29yZGlvbicpLmFjY29yZGlvbih7XG4gICAgICAgIGNvbGxhcHNpYmxlOiB0cnVlLFxuICAgICAgICBhY3RpdmU6IGZhbHNlLFxuICAgICAgICBoZWlnaHRTdHlsZTogJ2NvbnRlbnQnXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICA7XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgIC8vID09PT09PT09PT09PT09PT09XG4gICAgLy8gQXV0aG9yOiDQotC10LzQvdGL0Lkg0LzQsNCzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyBEYXRlOiAxMy4wMS4yMDIxXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyDQktCw0LvQuNC00LDRhtC40Y9cbiAgICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIHZhciBTRVRUSU5HUyA9IHtcbiAgICAgIC8vICAgICBpZ25vcmU6ICcuaWdub3JlJyxcbiAgICAgIC8vICAgICBncm91cHM6IHtcbiAgICAgIC8vICAgICAgICAgdXNlcm5hbWU6ICdwYXNzd29yZCByZXR5cGVfcGFzc3dvcmQnXG4gICAgICAvLyAgICAgfSxcbiAgICAgIC8vICAgICBlcnJvclBsYWNlbWVudDogZnVuY3Rpb24gKGVycm9yLCBlbGVtZW50KSB7XG4gICAgICAvLyAgICAgICAgIGlmIChCb29sZWFuKGVsZW1lbnQuYXR0cignb25seS0xOCcpKSkge1xuICAgICAgLy8gICAgICAgICAgICAgZXJyb3IuaW5zZXJ0QWZ0ZXIoZWxlbWVudC5wYXJlbnRzKCdmb3JtJykuZmluZCgnLmpzLWVycm9yLWNvbnRhaW5lcicpKTtcbiAgICAgIC8vICAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmF0dHIoJ25hbWUnKSA9PT0gJ3Bhc3N3b3JkJyB8fCBlbGVtZW50LmF0dHIoJ25hbWUnKSA9PT0gJ3JldHlwZV9wYXNzd29yZCcpIHtcbiAgICAgIC8vICAgICAgICAgICAgIGVycm9yLmluc2VydEFmdGVyKCdbbmFtZT1cInJldHlwZV9wYXNzd29yZFwiXScpO1xuICAgICAgLy8gICAgICAgICB9IGVsc2Uge1xuICAgICAgLy8gICAgICAgICAgICAgZXJyb3IuaW5zZXJ0QWZ0ZXIoZWxlbWVudCk7XG4gICAgICAvLyAgICAgICAgIH1cbiAgICAgIC8vICAgICB9XG4gICAgICAvLyB9O1xuXG4gICAgICAvKipcbiAgICAgICAqINCd0YPQttC90L7Qu9C4INCx0LvQvtGH0LjRgtGMINC60L3QvtC/0LrRgyBzdWJtaXRcbiAgICAgICAqIEBwYXJhbSB7alF1ZXJ5PEhUTUxFbGVtZW50Pn0gJGZvcm0g0JXQu9C10LzQtdC90YIg0YTQvtGA0LzRi1xuICAgICAgICogQHJldHVybnMge0Jvb2xlYW59IHRydWUvZmFsc2VcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gaXNCdXR0b25EaXNhYmxlZCgkZm9ybSkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbigkZm9ybS5kYXRhKCdidXR0b24tZGlzJykpO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiDQo9GB0YLQsNC90L7QstC60LAg0LHQu9C+0LrQuNGA0L7QstC60Lgg0LrQvdC+0L/QutC4XG4gICAgICAgKiBAcGFyYW0ge2pRdWVyeTxIVE1MRWxlbWVudD59ICRmb3JtINCV0LvQtdC80LXQvdGCINGE0L7RgNC80YtcbiAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gYm9vbGVhbiDRgNC10YjQsNGO0YjQuNC5INC/0LDRgNCw0LzQtdGC0YAgdHJ1ZS9mYWxzZSAtINGD0YHRgtCw0L3QvtCy0LjRgtGML9GD0LHRgNCw0YLRjCDQsdC70L7QulxuICAgICAgICogQHNlZSBpc0J1dHRvbkRpc2FibGVkINC40YHQv9C+0LvRjNC30YPQtdGCINC/0YDQvtCy0LXRgNC60YNcbiAgICAgICAqL1xuXG5cbiAgICAgIGZ1bmN0aW9uIHNldEJ1dHRvbkRpc2FibGVkKCRmb3JtLCBfYm9vbGVhbikge1xuICAgICAgICB2YXIgJHN1YiA9ICRmb3JtLmZpbmQoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJyk7XG5cbiAgICAgICAgaWYgKGlzQnV0dG9uRGlzYWJsZWQoJGZvcm0pKSB7XG4gICAgICAgICAgJHN1Yi5wcm9wKCdkaXNhYmxlZCcsIF9ib29sZWFuKTtcbiAgICAgICAgICAkc3ViLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcsIF9ib29sZWFuKTtcbiAgICAgICAgfVxuICAgICAgfSAvLyDQntC/0LjRgdCw0L3QuNC1INC+0YjQuNCx0L7QulxuXG5cbiAgICAgICQuZXh0ZW5kKCQudmFsaWRhdG9yLm1lc3NhZ2VzLCB7XG4gICAgICAgIHJlcXVpcmVkOiAn0K3RgtC+INC/0L7Qu9C1INC90LXQvtCx0YXQvtC00LjQvNC+INC30LDQv9C+0LvQvdC40YLRjC4nLFxuICAgICAgICBuYW1lOiAn0KPQutCw0LbQuNGC0LUg0LjQvNGPJyxcbiAgICAgICAgcGhvbmU6ICfQo9C60LDQttC40YLQtSDRgtC10LvQtdGE0L7QvScsXG4gICAgICAgIHJlbW90ZTogJ9Cf0L7QttCw0LvRg9C50YHRgtCwLCDQstCy0LXQtNC40YLQtSDQv9GA0LDQstC40LvRjNC90L7QtSDQt9C90LDRh9C10L3QuNC1LicsXG4gICAgICAgIGVtYWlsOiAn0KPQutCw0LbQuNGC0LUg0Y3Qu9C10LrRgtGA0L7QvdC90YvQuSDQsNC00YDQtdGBJyxcbiAgICAgICAgdXJsOiAn0J/QvtC20LDQu9GD0LnRgdGC0LAsINCy0LLQtdC00LjRgtC1INC60L7RgNGA0LXQutGC0L3Ri9C5IFVSTC4nLFxuICAgICAgICBkYXRlOiAn0J/QvtC20LDQu9GD0LnRgdGC0LAsINCy0LLQtdC00LjRgtC1INC60L7RgNGA0LXQutGC0L3Rg9GOINC00LDRgtGDLicsXG4gICAgICAgIGRhdGVJU086ICfQn9C+0LbQsNC70YPQudGB0YLQsCwg0LLQstC10LTQuNGC0LUg0LrQvtGA0YDQtdC60YLQvdGD0Y4g0LTQsNGC0YMg0LIg0YTQvtGA0LzQsNGC0LUgSVNPLicsXG4gICAgICAgIG51bWJlcjogJ9Cf0L7QttCw0LvRg9C50YHRgtCwLCDQstCy0LXQtNC40YLQtSDRh9C40YHQu9C+LicsXG4gICAgICAgIGRpZ2l0czogJ9Cf0L7QttCw0LvRg9C50YHRgtCwLCDQstCy0L7QtNC40YLQtSDRgtC+0LvRjNC60L4g0YbQuNGE0YDRiy4nLFxuICAgICAgICBjcmVkaXRjYXJkOiAn0J/QvtC20LDQu9GD0LnRgdGC0LAsINCy0LLQtdC00LjRgtC1INC/0YDQsNCy0LjQu9GM0L3Ri9C5INC90L7QvNC10YAg0LrRgNC10LTQuNGC0L3QvtC5INC60LDRgNGC0YsuJyxcbiAgICAgICAgZXF1YWxUbzogJ9Cf0L7QttCw0LvRg9C50YHRgtCwLCDQstCy0LXQtNC40YLQtSDRgtCw0LrQvtC1INC20LUg0LfQvdCw0YfQtdC90LjQtSDQtdGJ0ZEg0YDQsNC3LicsXG4gICAgICAgIGV4dGVuc2lvbjogJ9Cf0L7QttCw0LvRg9C50YHRgtCwLCDQstGL0LHQtdGA0LjRgtC1INGE0LDQudC7INGBINC/0YDQsNCy0LjQu9GM0L3Ri9C8INGA0LDRgdGI0LjRgNC10L3QuNC10LwuJyxcbiAgICAgICAgbWF4bGVuZ3RoOiAkLnZhbGlkYXRvci5mb3JtYXQoJ9Cf0L7QttCw0LvRg9C50YHRgtCwLCDQstCy0LXQtNC40YLQtSDQvdC1INCx0L7Qu9GM0YjQtSB7MH0g0YHQuNC80LLQvtC70L7Qsi4nKSxcbiAgICAgICAgbWlubGVuZ3RoOiAkLnZhbGlkYXRvci5mb3JtYXQoJ9Cf0L7QttCw0LvRg9C50YHRgtCwLCDQstCy0LXQtNC40YLQtSDQvdC1INC80LXQvdGM0YjQtSB7MH0g0YHQuNC80LLQvtC70L7Qsi4nKSxcbiAgICAgICAgcmFuZ2VsZW5ndGg6ICQudmFsaWRhdG9yLmZvcm1hdCgn0J/QvtC20LDQu9GD0LnRgdGC0LAsINCy0LLQtdC00LjRgtC1INC30L3QsNGH0LXQvdC40LUg0LTQu9C40L3QvtC5INC+0YIgezB9INC00L4gezF9INGB0LjQvNCy0L7Qu9C+0LIuJyksXG4gICAgICAgIHJhbmdlOiAkLnZhbGlkYXRvci5mb3JtYXQoJ9Cf0L7QttCw0LvRg9C50YHRgtCwLCDQstCy0LXQtNC40YLQtSDRh9C40YHQu9C+INC+0YIgezB9INC00L4gezF9LicpLFxuICAgICAgICBtYXg6ICQudmFsaWRhdG9yLmZvcm1hdCgn0J/QvtC20LDQu9GD0LnRgdGC0LAsINCy0LLQtdC00LjRgtC1INGH0LjRgdC70L4sINC80LXQvdGM0YjQtdC1INC40LvQuCDRgNCw0LLQvdC+0LUgezB9LicpLFxuICAgICAgICBtaW46ICQudmFsaWRhdG9yLmZvcm1hdCgn0J/QvtC20LDQu9GD0LnRgdGC0LAsINCy0LLQtdC00LjRgtC1INGH0LjRgdC70L4sINCx0L7Qu9GM0YjQtdC1INC40LvQuCDRgNCw0LLQvdC+0LUgezB9LicpLFxuICAgICAgICBhZ2U6ICfQmiDRgdC+0LbQsNC70LXQvdC40Y4sINCS0Ysg0L3QtSDQvNC+0LbQtdGC0LUg0LLQvtC50YLQuCwg0YLQsNC6INC60LDQuiDQvdC1INC00L7RgdGC0LjQs9C70Lgg0LzQuNC90LjQvNCw0LvRjNC90L7Qs9C+INCy0L7Qt9GA0LDRgdGC0LAg0LTQu9GPINC70LXQs9Cw0LvRjNC90L7QuSDQv9C+0LrRg9C/0LrQuCDQuCDRg9C/0L7RgtGA0LXQsdC70LXQvdC40Y8g0LDQu9C60L7Qs9C+0LvRjycsXG4gICAgICAgIGRlZmFnZTogJ9Cd0LXQstC10YDQvdGL0Lkg0YTQvtGA0LzQsNGCINC00LDQvdC90YvRhScsXG4gICAgICAgIGNpdHk6ICfQo9C60LDQttC40YLQtSDQs9C+0YDQvtC0JyxcbiAgICAgICAgdGV4dGFyZWE6ICfQktCy0LXQtNC40YLQtSDRgdC+0L7QsdGJ0LXQvdC40LUnXG4gICAgICB9KTtcbiAgICAgIC8qINCf0YDQsNCy0LjQu9CwINCy0LDQu9C40LTQsNGG0LjQuCAqL1xuICAgICAgLy8g0JjQvNGPXG5cbiAgICAgICQudmFsaWRhdG9yLmFkZE1ldGhvZCgndGV4dC1uYW1lJywgZnVuY3Rpb24gKHZhbHVlLCBlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKHZhbHVlKTtcbiAgICAgIH0sICQudmFsaWRhdG9yLm1lc3NhZ2VzLm5hbWUpO1xuICAgICAgJC52YWxpZGF0b3IuYWRkTWV0aG9kKCd0ZXh0LWNpdHknLCBmdW5jdGlvbiAodmFsdWUsIGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4odmFsdWUpO1xuICAgICAgfSwgJC52YWxpZGF0b3IubWVzc2FnZXMuY2l0eSk7XG4gICAgICAkLnZhbGlkYXRvci5hZGRNZXRob2QoJ3RleHRhcmVhJywgZnVuY3Rpb24gKHZhbHVlLCBlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKHZhbHVlLmxlbmd0aCk7XG4gICAgICB9LCAkLnZhbGlkYXRvci5tZXNzYWdlcy50ZXh0YXJlYSk7IC8vINCi0LXQu9C10YTQvtC9XG5cbiAgICAgICQudmFsaWRhdG9yLmFkZE1ldGhvZCgndGVsJywgZnVuY3Rpb24gKHZhbHVlLCBlbGVtZW50KSB7XG4gICAgICAgIC8vIHZhciByZWdQaG9uZSA9IC9eKChcXCs3fDd8OCkrKFswLTldKXsxMH0pJC87XG4gICAgICAgIHZhciByZWdQaG9uZSA9IC9eKFxcKzd8N3w4KT9bXFxzXFwtXT9cXCg/WzAtOV1bMC05XXsyfVxcKT9bXFxzXFwtXT9bMC05XXszfVtcXHNcXC1dP1swLTldezJ9W1xcc1xcLV0/WzAtOV17Mn0kLztcbiAgICAgICAgcmV0dXJuIHJlZ1Bob25lLnRlc3QodmFsdWUpO1xuICAgICAgfSwgJC52YWxpZGF0b3IubWVzc2FnZXMucGhvbmUpOyAvLyBlbWFpbFxuXG4gICAgICAkLnZhbGlkYXRvci5hZGRNZXRob2QoJ2VtYWlsJywgZnVuY3Rpb24gKHZhbHVlLCBlbGVtZW50KSB7XG4gICAgICAgIHZhciByZWdFbWFpbCA9IC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xuICAgICAgICByZXR1cm4gcmVnRW1haWwudGVzdCh2YWx1ZSk7XG4gICAgICB9LCAkLnZhbGlkYXRvci5tZXNzYWdlcy5lbWFpbCk7XG4gICAgICAkLnZhbGlkYXRvci5hZGRNZXRob2QoJ2RhdGUnLCBmdW5jdGlvbiAodmFsdWUsIGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIG1pbkRhdGUgPSBEYXRlLnBhcnNlKCcxOTAwLTAxLTAxJyk7XG4gICAgICAgIHZhciBtYXhEYXRlID0gRGF0ZS5wYXJzZSgnMjEwMC0wMS0wMScpO1xuICAgICAgICB2YXIgdmFsdWVFbnRlcmVkID0gRGF0ZS5wYXJzZSh2YWx1ZSk7XG5cbiAgICAgICAgaWYgKHZhbHVlRW50ZXJlZCA8IG1pbkRhdGUgfHwgdmFsdWVFbnRlcmVkID4gbWF4RGF0ZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAhL0ludmFsaWR8TmFOLy50ZXN0KG5ldyBEYXRlKG1pbkRhdGUpKTtcbiAgICAgIH0sICQudmFsaWRhdG9yLm1lc3NhZ2VzLmFnZSk7IC8vINCS0YvQv9C+0LTQsNGI0LrQsFxuXG4gICAgICAkLnZhbGlkYXRvci5hZGRNZXRob2QoJ2pzLXNlbGVjdC1mb3JtJywgZnVuY3Rpb24gKHZhbHVlLCBlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBCb29sZWFuKHZhbHVlKTtcbiAgICAgIH0sICfQndC1INCy0YvQsdGA0LDQvdC+LicpO1xuICAgICAgLyog0JTQvtCx0L7QstC70LXQvdC40Y8g0LrQu9Cw0YHRgdC+0LIg0Log0L/RgNCw0LLQuNC70LDQvCDQstCw0LvQuNC00LjRgNC+0LLQsNC90LjRjyAqL1xuXG4gICAgICBqUXVlcnkudmFsaWRhdG9yLmFkZENsYXNzUnVsZXMoe1xuICAgICAgICAnanMtbmFtZSc6IHtcbiAgICAgICAgICAndGV4dC1uYW1lJzogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICAvLyDQmNC80Y9cbiAgICAgICAgJ2pzLXRlbCc6IHtcbiAgICAgICAgICB0ZWw6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgLy8g0KLQtdC70LXRhNC+0L1cbiAgICAgICAgJ2pzLWVtYWlsJzoge1xuICAgICAgICAgIGVtYWlsOiB0cnVlXG4gICAgICAgIH0gLy8gZW1haWxcblxuICAgICAgfSk7XG4gICAgICAkKCcuanMtZm9ybS12YWxpZGF0ZScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJGZvcm0gPSAkKHRoaXMpO1xuICAgICAgICB2YXIgdmFsaWRhdG9yO1xuICAgICAgICB2YWxpZGF0b3IgPSAkKHRoaXMpLnZhbGlkYXRlKHtcbiAgICAgICAgICBpZ25vcmU6ICcuaWdub3JlLCA6aGlkZGVuJyxcbiAgICAgICAgICBzdWJtaXRIYW5kbGVyOiBmdW5jdGlvbiBzdWJtaXRIYW5kbGVyKGZvcm0pIHtcbiAgICAgICAgICAgIHZhciBpc1ZhbGlkQ2xlYXIgPSAkZm9ybS5kYXRhKCd2YWxpZC1jbGVhcicpID09PSB1bmRlZmluZWQgfHwgJGZvcm0uZGF0YSgndmFsaWQtY2xlYXInKSA9PT0gJ3RydWUnO1xuICAgICAgICAgICAgdmFyIGlzQnV0dG9uRGlzYWJsZWQgPSAkZm9ybS5kYXRhKCdkYXRhLWJ1dHRvbi1ibG9ja2VkJykgPT09IHVuZGVmaW5lZCB8fCAkZm9ybS5kYXRhKCdkYXRhLWJ1dHRvbi1ibG9ja2VkJykgPT09ICd0cnVlJztcblxuICAgICAgICAgICAgaWYgKGlzQnV0dG9uRGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgJGZvcm0uZmluZCgnYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgJGZvcm0uZmluZCgnYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkKGZvcm0pLnRyaWdnZXIoJ2FqYXguc2VuZCcpO1xuXG4gICAgICAgICAgICBpZiAoaXNWYWxpZENsZWFyKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICQoJy5qcy1maWxlbmFtZScpLnRyaWdnZXIoJ2ZpbGUuY2xlYXInKTtcbiAgICAgICAgICAgICAgICAkKCcuanMtc2VsZWN0LWZvcm0nKS50cmlnZ2VyKCdzZWxlY3QyLmNsZWFyJyk7XG4gICAgICAgICAgICAgICAgZm9ybS5yZXNldCgpO1xuICAgICAgICAgICAgICAgIHZhbGlkYXRvci5yZXNldEZvcm0oKTtcbiAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2V0QnV0dG9uRGlzYWJsZWQoJGZvcm0sIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGlzQnV0dG9uRGlzYWJsZWQoJGZvcm0pKSB7XG4gICAgICAgICAgc2V0QnV0dG9uRGlzYWJsZWQoJGZvcm0sIHRydWUpO1xuICAgICAgICAgICQodGhpcykub24oJ2JsdXIga2V5dXAgY2hhbmdlJywgJ2lucHV0LCBzZWxlY3QnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciB2YWxpZCA9ICF2YWxpZGF0b3IuY2hlY2tGb3JtKCk7XG4gICAgICAgICAgICBzZXRCdXR0b25EaXNhYmxlZCgkZm9ybSwgdmFsaWQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KSgpO1xuXG4gICAgO1xuICAgIHZhciBzd2lwZXIgPSBuZXcgU3dpcGVyKCcuanMtYWN0b3JzLXNsaWRlcicsIChfU3dpcGVyNCA9IHtcbiAgICAgIHNwZWVkOiA1MDAsXG4gICAgICBzbGlkZXNQZXJWaWV3OiAyXG4gICAgfSwgX2RlZmluZVByb3BlcnR5KF9Td2lwZXI0LCBcInNsaWRlc1BlclZpZXdcIiwgJ2F1dG8nKSwgX2RlZmluZVByb3BlcnR5KF9Td2lwZXI0LCBcIm5hdmlnYXRpb25cIiwge1xuICAgICAgbmV4dEVsOiAnLmItYWN0b3JzIC5zd2lwZXItYnV0dG9uLW5leHQnLFxuICAgICAgcHJldkVsOiAnLmItYWN0b3JzIC5zd2lwZXItYnV0dG9uLXByZXYnXG4gICAgfSksIF9Td2lwZXI0KSk7XG4gICAgO1xuICAgIHZhciBzd2lwZXIgPSBuZXcgU3dpcGVyKCcuanMtcHJlc3Mtc2xpZGVyJywgKF9Td2lwZXI1ID0ge1xuICAgICAgc2xpZGVzUGVyVmlldzogMlxuICAgIH0sIF9kZWZpbmVQcm9wZXJ0eShfU3dpcGVyNSwgXCJzbGlkZXNQZXJWaWV3XCIsICdhdXRvJyksIF9kZWZpbmVQcm9wZXJ0eShfU3dpcGVyNSwgXCJwYWdpbmF0aW9uXCIsIHtcbiAgICAgIGVsOiAnLmItcHJlc3Mtc2xpZGVyIC5zd2lwZXItcGFnaW5hdGlvbicsXG4gICAgICBjbGlja2FibGU6IHRydWVcbiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9Td2lwZXI1LCBcImJyZWFrcG9pbnRzXCIsIHtcbiAgICAgIDgzNDogX2RlZmluZVByb3BlcnR5KHtcbiAgICAgICAgc2xpZGVzUGVyVmlldzogMVxuICAgICAgfSwgXCJzbGlkZXNQZXJWaWV3XCIsICdhdXRvJylcbiAgICB9KSwgX1N3aXBlcjUpKTtcbiAgICA7XG4gICAgdmFyIHN3aXBlciA9IG5ldyBTd2lwZXIoJy5qcy1zbGlkZXItcmV2aWV3JywgKF9Td2lwZXI2ID0ge1xuICAgICAgc3BlZWQ6IDUwMCxcbiAgICAgIHNsaWRlc1BlclZpZXc6IDJcbiAgICB9LCBfZGVmaW5lUHJvcGVydHkoX1N3aXBlcjYsIFwic2xpZGVzUGVyVmlld1wiLCAnYXV0bycpLCBfZGVmaW5lUHJvcGVydHkoX1N3aXBlcjYsIFwibmF2aWdhdGlvblwiLCB7XG4gICAgICBuZXh0RWw6ICcuYi1kZXRhaWwtaW5mb19fd3JhcHBlciAuc3dpcGVyLWJ1dHRvbi1uZXh0JyxcbiAgICAgIHByZXZFbDogJy5iLWRldGFpbC1pbmZvX193cmFwcGVyIC5zd2lwZXItYnV0dG9uLXByZXYnXG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfU3dpcGVyNiwgXCJwYWdpbmF0aW9uXCIsIHtcbiAgICAgIGVsOiAnLmItZGV0YWlsLWluZm9fX3dyYXBwZXIgLnN3aXBlci1wYWdpbmF0aW9uJyxcbiAgICAgIGNsaWNrYWJsZTogdHJ1ZVxuICAgIH0pLCBfU3dpcGVyNikpO1xuICAgIDtcbiAgICB2YXIgc3dpcGVyID0gbmV3IFN3aXBlcignLmpzLXNsaWRlci1tZWRpYScsIHtcbiAgICAgIHNwZWVkOiA1MDAsXG4gICAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgICAgcGFnaW5hdGlvbjoge1xuICAgICAgICBlbDogJy5iLXNsaWRlci1tZWRpYSAuc3dpcGVyLXBhZ2luYXRpb24nLFxuICAgICAgICBjbGlja2FibGU6IHRydWVcbiAgICAgIH0sXG4gICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgIG5leHRFbDogJy5iLXNsaWRlci1tZWRpYSAuc3dpcGVyLWJ1dHRvbi1uZXh0JyxcbiAgICAgICAgcHJldkVsOiAnLmItc2xpZGVyLW1lZGlhIC5zd2lwZXItYnV0dG9uLXByZXYnXG4gICAgICB9XG4gICAgfSk7XG4gICAgO1xuICAgIHZhciBzd2lwZXIgPSBuZXcgU3dpcGVyKCcuanMtc2xpZGVyLXBsYXknLCAoX1N3aXBlcjcgPSB7XG4gICAgICBzbGlkZXNQZXJWaWV3OiAyXG4gICAgfSwgX2RlZmluZVByb3BlcnR5KF9Td2lwZXI3LCBcInNsaWRlc1BlclZpZXdcIiwgJ2F1dG8nKSwgX2RlZmluZVByb3BlcnR5KF9Td2lwZXI3LCBcInNwYWNlQmV0d2VlblwiLCAxMyksIF9kZWZpbmVQcm9wZXJ0eShfU3dpcGVyNywgXCJwYWdpbmF0aW9uXCIsIHtcbiAgICAgIGVsOiAnLmItc2xpZGVyLXBsYXkgLnN3aXBlci1wYWdpbmF0aW9uJyxcbiAgICAgIGNsaWNrYWJsZTogdHJ1ZVxuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX1N3aXBlcjcsIFwiYnJlYWtwb2ludHNcIiwge1xuICAgICAgODM0OiB7XG4gICAgICAgIHNwYWNlQmV0d2VlbjogMTVcbiAgICAgIH0sXG4gICAgICAxMjAwOiB7XG4gICAgICAgIHNwYWNlQmV0d2VlbjogMjRcbiAgICAgIH0gLy8gMTAyNDoge1xuICAgICAgLy8gICBzbGlkZXNQZXJWaWV3OiA1LFxuICAgICAgLy8gICBzcGFjZUJldHdlZW46IDUwLFxuICAgICAgLy8gfSxcblxuICAgIH0pLCBfU3dpcGVyNykpO1xuICAgIDtcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICAkKCcuanMtZm9ybScpLm9uKCdhamF4LnNlbmQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgJGZvcm0gPSAkKHRoaXMpO1xuICAgICAgICB2YXIgcG9wdXAgPSAkZm9ybS5kYXRhKCdwb3B1cCcpO1xuICAgICAgICB2YXIgdXJsID0gJGZvcm0uYXR0cihcImFjdGlvblwiKSB8fCBsb2NhdGlvbi5ocmVmO1xuICAgICAgICB2YXIgbWV0aG9kID0gJGZvcm0uYXR0cihcIm1ldGhvZFwiKTtcbiAgICAgICAgdmFyIGV2ZW50ID0gJGZvcm0uZGF0YShcImV2ZW50XCIpO1xuICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoJGZvcm1bMF0pO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcbiAgICAgICAgICBjb250ZW50VHlwZTogZmFsc2UsXG4gICAgICAgICAgZGF0YTogZm9ybURhdGEsXG4gICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcygpIHtcbiAgICAgICAgICAgIG9wZW5Qb3BVcChwb3B1cCk7XG4gICAgICAgICAgICAkZm9ybVswXS5yZXNldCgpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKCkge31cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgICQoJ2JvZHknKS5vbignbWFpbkNhbGVuZGFyJywgZnVuY3Rpb24gKGUsIGRhdGEpIHtcbiAgICAgICAgdmFyIHVybCA9IGRhdGEudXJsLFxuICAgICAgICAgICAgdmFsdWUgPSBkYXRhLnZhbHVlLFxuICAgICAgICAgICAgZmlsdGVyID0gZGF0YS5maWx0ZXI7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgZmlsdGVyOiBmaWx0ZXJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoZGF0YSkge1xuICAgICAgICAgICAgdmFyIHN1Y2Nlc3MgPSBkYXRhLnN1Y2Nlc3MsXG4gICAgICAgICAgICAgICAgaHRtbCA9IGRhdGEuaHRtbDtcblxuICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgc2xpZGVyUG9zdGVySW5zdGFuc2UuZGVzdHJveSh0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgJCgnLmpzLXNsaWRlci1wb3N0ZXInKS5odG1sKGh0bWwpO1xuICAgICAgICAgICAgICAkKCdib2R5JykudHJpZ2dlcignaW5pdFNsaWRlclBvc3RlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICA7XG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5qcy1wYWdpbmF0aW9uJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICB2YXIgJHRhcmdldCA9ICQoJHRoaXMuZGF0YSgndGFyZ2V0JykpO1xuICAgICAgICB2YXIgdXJsID0gJHRoaXMuZGF0YSgndXJsJyk7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgIGRhdGEuaHRtbCAmJiAkdGFyZ2V0Lmh0bWwoZGF0YS5odG1sKTtcbiAgICAgICAgICAgICAgZGF0YS5wYWdpbmF0aW9uICYmICQoJy5qcy1hamF4LXBhZ2luYXRpb24nKS5odG1sKGRhdGEucGFnaW5hdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIDsgLy8gdmFyIHN3aXBlciA9IG5ldyBTd2lwZXIoJy5qcy1wb3B1cC1zbGlkZXInLCB7XG4gICAgLy8gICAgIHNsaWRlc1BlclZpZXc6IDEsXG4gICAgLy8gICAgIGxvb3A6IHRydWUsXG4gICAgLy8gICAgIGVmZmVjdDogJ2ZhZGUnLFxuICAgIC8vICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgLy8gICAgICAgICBuZXh0RWw6ICcuYi1wb3B1cC1zbGlkZXIgLnN3aXBlci1idXR0b24tbmV4dCcsXG4gICAgLy8gICAgICAgICBwcmV2RWw6ICcuYi1wb3B1cC1zbGlkZXIgLnN3aXBlci1idXR0b24tcHJldicsXG4gICAgLy8gICAgIH0sXG4gICAgLy8gfSk7XG4gICAgLy8g0LfQsNC/0YPRgdC6INCyINGE0LDQudC70LUgcG9wdXAuanNcblxuICAgIDtcbiAgICB2YXIgc3dpcGVyID0gbmV3IFN3aXBlcignLmpzLW1lbW9yeS1zbGlkZXInLCB7XG4gICAgICBzcGVlZDogNTAwLFxuICAgICAgc2xpZGVzUGVyVmlldzogMixcbiAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgZWw6ICcuYi1tZW1vcnkgLnN3aXBlci1wYWdpbmF0aW9uJyxcbiAgICAgICAgY2xpY2thYmxlOiB0cnVlXG4gICAgICB9LFxuICAgICAgYnJlYWtwb2ludHM6IHtcbiAgICAgICAgODM0OiB7XG4gICAgICAgICAgc2xpZGVzUGVyVmlldzogNFxuICAgICAgICB9LFxuICAgICAgICAxMjAwOiB7XG4gICAgICAgICAgc2xpZGVzUGVyVmlldzogNlxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgO1xuXG4gICAgaWYgKCQoJy5qcy1ncmlkJykubGVuZ3RoKSB7XG4gICAgICAkKCcuanMtZ3JpZCcpLm1hc29ucnkoe1xuICAgICAgICBpdGVtU2VsZWN0b3I6ICcuanMtZ3JpZC1pdGVtJyAvLyBwZXJjZW50UG9zaXRpb246IHRydWVcblxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgO1xuICB9XG5cbiAgO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBkb2N1bWVudFJlYWR5KTtcbn0pKCk7Il19
